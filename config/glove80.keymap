/*
 * Copyright (c) 2020 The ZMK Contributors
 *
 * SPDX-License-Identifier: MIT
 */

#include <behaviors.dtsi>
#include <input/processors.dtsi>

#include <dt-bindings/zmk/keys.h>
#include <dt-bindings/zmk/bt.h>
#include <dt-bindings/zmk/ext_power.h>
#include <dt-bindings/zmk/outputs.h>
#include <dt-bindings/zmk/rgb.h>
#include <dt-bindings/zmk/mouse.h>
#include <dt-bindings/zmk/pointing.h>
#include <zephyr/dt-bindings/input/input-event-codes.h>

#include "keys_en_gb_extended.h"

//
// UNICODE() specifies how Unicode hexadecimal codepoint
// keystrokes are transformed into Unicode characters under Windows.
//
// If you've configured WinCompose to use a different trigger hotkey,
// such as F13 instead of the default RA(U) shortcut, simply override
// this definition to adapt all UNICODE() function calls accordingly.
//
#define UNICODE(keystrokes) <&macro_tap &kp RALT &kp U keystrokes &kp ENTER>

// Combos
// #define HYPER LG(LA(LSHIFT))

// Layers
#define DEFAULT 0
#define CODING 1
#define TS 2
#define C_LANG 3
#define PYTHON 4
#define NAV 5
#define NUMS_SYMS 6
#define CODING_NUMS_SYMS 7
#define MOUSING 8
#define BIGRAM 9
#define TS_BIGRAM 10
#define DBL 11
#define TS_DBL 12
#define SNIP 13
#define KEYW 14
#define TS_KEYW 15
#define C_KEYW 16
#define PYTHON_KEYW 17
#define MOUSE 18
#define SLOW 19
#define MEDIA 20
#define EMOJI 21
#define FKEYS 22
#define WINDOW 23
#define WASD 24
#define MAGIC 25
#define FACTORY_TEST 26

// Other Constants
#define SELECT_WORD_DELAY 1
// #define ZMK_POINTING_DEFAULT_MOVE_VAL 1000  
#define RELEASE_AFTER 3000

&mmv_input_listener {
  slow {
    layers = <SLOW>;
    input-processors = <&zip_xy_scaler 1 4>;
  };
};

&sl {
  release-after-ms = <RELEASE_AFTER>;
  ignore-modifiers;
};

/ {
    behaviors {

        tog_on: toggle_layer_on_only {
            compatible = "zmk,behavior-toggle-layer";
            #binding-cells = <1>;
            display-name = "Toggle Layer On";
            toggle-mode = "on";
        };

        tog_off: toggle_layer_off_only {
            compatible = "zmk,behavior-toggle-layer";
            #binding-cells = <1>;
            display-name = "Toggle Layer Off";
            toggle-mode = "off";
        };


        magic: magic_hold_tap {
            compatible = "zmk,behavior-hold-tap";
            #binding-cells = <2>;
            flavor = "tap-preferred";
            tapping-term-ms = <200>;
            bindings = <&mo>, <&rgb_ug_status_macro>;
        };

        spad_mt: padded_single_char_hold_tap {
            compatible = "zmk,behavior-hold-tap";
            #binding-cells = <2>;
            flavor = "tap-preferred";
            tapping-term-ms = <200>;
            bindings = <&kp>, <&spad>;
        };
        
        spad_i_mt: inverted_padded_single_char_hold_tap {
            compatible = "zmk,behavior-hold-tap";
            #binding-cells = <2>;
            flavor = "tap-preferred";
            tapping-term-ms = <200>;
            bindings = <&spad>, <&kp>;
        };

        ts_mt: trailing_space_hold_tap {
            compatible = "zmk,behavior-hold-tap";
            #binding-cells = <2>;
            flavor = "tap-preferred";
            tapping-term-ms = <200>;
            bindings = <&kp>, <&ts>;
        };
        
        psnl_mt: preceding_space_newline_hold_tap {
            compatible = "zmk,behavior-hold-tap";
            #binding-cells = <2>;
            flavor = "tap-preferred";
            tapping-term-ms = <200>;
            bindings = <&kp>, <&psnl>;
        };


        sk_qr: sticky_key_quick_release {
            compatible = "zmk,behavior-sticky-key";
            #binding-cells = <1>;
            bindings = <&kp>;
            release-after-ms = <RELEASE_AFTER>;
            quick-release;
            ignore-modifiers;
        };

        shift_mm: shift_mod_morph {
            compatible = "zmk,behavior-mod-morph";
            #binding-cells = <0>;
            bindings = <&shift_td>, <&kp LSHFT>;
            mods = <(MOD_LCTL|MOD_RCTL|MOD_LALT|MOD_RALT|MOD_LGUI|MOD_RGUI)>;
            keep-mods = <(MOD_LCTL|MOD_RCTL|MOD_LALT|MOD_RALT|MOD_LGUI|MOD_RGUI)>;
        };
        

        shift_td: shift_tap_dance {
            compatible = "zmk,behavior-tap-dance";
            #binding-cells = <0>;
            tapping-term-ms = <300>;
            bindings = <&single_sticky_tap LSHFT>, <&kp LSHFT>, <&kp CAPSLOCK>;
        };

        let_var_td: let_var_tap_dance {
            compatible = "zmk,behavior-tap-dance";
            #binding-cells = <0>;
            tapping-term-ms = <200>;
            bindings = <&let 0 SPACE>, <&var>;
        };

        vec_td: vec_tap_dance {
            compatible = "zmk,behavior-tap-dance";
            #binding-cells = <0>;
            tapping-term-ms = <300>;
            bindings = <&vec N2>, <&vec N3>, <&vec N4>;
        };  

        vector_td: vector_tap_dance {
            compatible = "zmk,behavior-tap-dance";
            #binding-cells = <0>;
            tapping-term-ms = <300>;
            bindings =  <&vector LSHFT N2>,
                        <&vector LSHFT N3>,
                        <&vector LSHFT N4>;
        };   

        ppp_td: private_protected_public_tap_dance {
            compatible = "zmk,behavior-tap-dance";
            #binding-cells = <0>;
            tapping-term-ms = <300>;
            bindings = <&public 0>, <&protected 0>, <&private 0>;
        };

        ppp_spc_td: private_protected_public_with_space_tap_dance {
            compatible = "zmk,behavior-tap-dance";
            #binding-cells = <0>;
            tapping-term-ms = <300>;
            bindings = <&public SPACE>, <&protected SPACE>, <&private SPACE>;
        };
        
        mt_rpi: mod_tap_require_prior_idle {
            compatible = "zmk,behavior-hold-tap";
            #binding-cells = <2>;
            flavor = "balanced";
            tapping-term-ms = <200>;
            quick-tap-ms = <200>;
            require-prior-idle-ms = <125>;
            hold-while-undecided;
            retro-tap;
            bindings = <&kp>, <&kp>;
        };

         qu_lt: qu_layer_tap{
            compatible = "zmk,behavior-hold-tap";
            #binding-cells = <2>;
            flavor = "balanced";
            tapping-term-ms = <200>;
            quick-tap-ms = <200>;
            require-prior-idle-ms = <125>;
            retro-tap;
            bindings = <&mo>, <&qu_mm>;
        };


        lt_rpi: layer_tap_require_prior_idle {
            compatible = "zmk,behavior-hold-tap";
            #binding-cells = <2>;
            flavor = "balanced";
            tapping-term-ms = <200>;
            quick-tap-ms = <200>;
            require-prior-idle-ms = <125>;
            hold-while-undecided;
            retro-tap;
            bindings = <&mo>, <&kp>;
        };

        ret_lt: enter_layer_tap {
            compatible = "zmk,behavior-hold-tap";
            #binding-cells = <2>;
            flavor = "balanced";
            tapping-term-ms = <200>;
            quick-tap-ms = <200>;
            require-prior-idle-ms = <125>;
            hold-while-undecided;
            retro-tap;
            bindings = <&mo>, <&ret>;
        };


        space_lt: space_layer_tap {
            compatible = "zmk,behavior-hold-tap";
            #binding-cells = <2>;
            flavor = "balanced";
            tapping-term-ms = <200>;
            quick-tap-ms = <200>;
            require-prior-idle-ms = <125>;
            hold-while-undecided;
            retro-tap;
            bindings = <&mo>, <&space>;
        };

        excl_lt: exclamation_mark_layer_tap {
            compatible = "zmk,behavior-hold-tap";
            #binding-cells = <2>;
            flavor = "balanced";
            tapping-term-ms = <200>;
            quick-tap-ms = <200>;
            require-prior-idle-ms = <125>;
            retro-tap;
            bindings = <&mo>, <&excl>;
        };

        excl_i_lt: exclamation_mark_inverted_layer_tap {
            compatible = "zmk,behavior-hold-tap";
            #binding-cells = <2>;
            flavor = "balanced";
            tapping-term-ms = <200>;
            quick-tap-ms = <200>;
            require-prior-idle-ms = <125>;
            hold-while-undecided;
            retro-tap;
            bindings = <&mo>, <&excl_i>;
        };

        undecided_lt: undecided_layer_tap {
            compatible = "zmk,behavior-hold-tap";
            #binding-cells = <2>;
            flavor = "balanced";
            tapping-term-ms = <200>;
            quick-tap-ms = <200>;
            require-prior-idle-ms = <125>;
            retro-tap;
            bindings = <&mo>, <&kp>;
        };

        equal_lt: equal_layer_tap {
            compatible = "zmk,behavior-hold-tap";
            #binding-cells = <2>;
            flavor = "balanced";
            tapping-term-ms = <200>;
            quick-tap-ms = <200>;
            require-prior-idle-ms = <125>;
            hold-while-undecided;
            retro-tap;
            bindings = <&mo>, <&equal>;
        };

        apos_lt: apostrophe_layer_tap {
            compatible = "zmk,behavior-hold-tap";
            #binding-cells = <2>;
            flavor = "balanced";
            tapping-term-ms = <200>;
            quick-tap-ms = <200>;
            require-prior-idle-ms = <125>;
            hold-while-undecided;
            retro-tap;
            bindings = <&mo>, <&apos>;
        };

        rpt_lt: repeat_key_layer_tap {
            compatible = "zmk,behavior-hold-tap";
            #binding-cells = <2>;
            flavor = "balanced";
            tapping-term-ms = <200>;
            quick-tap-ms = <200>;
            retro-tap;
            bindings = <&mo>, <&key_repeat>;
        };

        caps_word_lt: caps_word_layer_tap {
            compatible = "zmk,behavior-hold-tap";
            #binding-cells = <2>;
            flavor = "balanced";
            tapping-term-ms = <200>;
            quick-tap-ms = <200>;
            retro-tap;
            bindings = <&lt>, <&caps_word>;
        };

        bspc_lt: backpace_layer_tap {
            compatible = "zmk,behavior-hold-tap";
            #binding-cells = <2>;
            flavor = "hold-preferred";
            tapping-term-ms = <200>;
            quick-tap-ms = <200>;
            retro-tap;
            bindings = <&mo>, <&bspc_mm>;
        };

        bspc_i_lt: backpace_inverted_layer_tap {
            compatible = "zmk,behavior-hold-tap";
            #binding-cells = <2>;
            flavor = "hold-preferred";
            tapping-term-ms = <200>;
            quick-tap-ms = <200>;
            retro-tap;
            bindings = <&mo>, <&kp BACKSPACE>;
        };

        // cc_mt: copy_cut_mod_tap {
        //     compatible = "zmk,behavior-hold-tap";
        //     #binding-cells = <2>;
        //     flavor = "tap-preferred";
        //     tapping-term-ms = <200>;
        //     quick-tap-ms = <200>;
        //     require-prior-idle-ms = <125>;
        //     hold-while-undecided;
        //     bindings = <&kp>, <&copy_cut>;
        // };

        // cc_lt: copy_cut_layer_tap {
        //     compatible = "zmk,behavior-hold-tap";
        //     #binding-cells = <2>;
        //     flavor = "tap-preferred";
        //     tapping-term-ms = <200>;
        //     quick-tap-ms = <200>;
        //     require-prior-idle-ms = <125>;
        //     hold-while-undecided;
        //     bindings = <&mo>, <&copy_cut>;
        // };


        // Mod Morphs
        lpar_spc: opening_parenthesis_with_space {
            compatible = "zmk,behavior-mod-morph";
            #binding-cells = <0>;
            bindings = <&bi LPAR SPACE>, <&kp LPAR>;
            mods = <(MOD_LSFT|MOD_RSFT)>;
        };

        comma: comma {
            compatible = "zmk,behavior-mod-morph";
            #binding-cells = <0>;
            bindings = <&bi COMMA SPACE>, <&kp COMMA>;
            mods = <(MOD_LSFT|MOD_RSFT)>;
        };

        dot: dot {
            compatible = "zmk,behavior-mod-morph";
            #binding-cells = <0>;
            bindings = <&se DOT 0>, <&kp DOT>;
            mods = <(MOD_LSFT|MOD_RSFT)>;
        };

        dot_i: dot_inverted {
            compatible = "zmk,behavior-mod-morph";
            #binding-cells = <0>;
            bindings = <&kp DOT>, <&se DOT 0>;
            mods = <(MOD_LSFT|MOD_RSFT)>;
        };

        qmark: question_mark {
            compatible = "zmk,behavior-mod-morph";
            #binding-cells = <0>;
            bindings = <&se QUESTION 0>, <&kp QUESTION>;
            mods = <(MOD_LSFT|MOD_RSFT)>;
        };

        qmark_i: question_mark_inverted {
            compatible = "zmk,behavior-mod-morph";
            #binding-cells = <0>;
            bindings = <&kp QUESTION>, <&se QUESTION 0>;
            mods = <(MOD_LSFT|MOD_RSFT)>;
        };

        excl: exclamation_mark {
            compatible = "zmk,behavior-mod-morph";
            #binding-cells = <0>;
            bindings = <&se EXCL 0>, <&kp EXCL>;
            mods = <(MOD_LSFT|MOD_RSFT)>;
        };

        excl_i: exclamation_mark_inverted {
            compatible = "zmk,behavior-mod-morph";
            #binding-cells = <0>;
            bindings = <&kp EXCL>, <&se EXCL 0>;
            mods = <(MOD_LSFT|MOD_RSFT)>;
        };

        colon: colon {
            compatible = "zmk,behavior-mod-morph";
            #binding-cells = <0>;
            bindings = <&bi COLON SPACE>, <&kp COLON>;
            mods = <(MOD_LSFT|MOD_RSFT)>;
        };

        colon_i: colon_inverted {
            compatible = "zmk,behavior-mod-morph";
            #binding-cells = <0>;
            bindings = <&kp COLON>, <&bi COLON SPACE>;
            mods = <(MOD_LSFT|MOD_RSFT)>;
        };

        semi: semicolon {
            compatible = "zmk,behavior-mod-morph";
            #binding-cells = <0>;
            bindings = <&bi SEMICOLON SPACE>, <&bi SEMICOLON ENTER>;
            mods = <(MOD_LSFT|MOD_RSFT)>;
        };

        semi_i: semicolon_inverted {
            compatible = "zmk,behavior-mod-morph";
            #binding-cells = <0>;
            bindings = <&bi SEMICOLON ENTER>, <&bi SEMICOLON SPACE>;
            mods = <(MOD_LSFT|MOD_RSFT)>;
        };

        
        minus: minus {
            compatible = "zmk,behavior-mod-morph";
            #binding-cells = <0>;
            bindings = <&kp MINUS>, <&pad MINUS 0>;
            mods = <(MOD_LSFT|MOD_RSFT)>;
        };
        
        slash: forward_slash {
            compatible = "zmk,behavior-mod-morph";
            #binding-cells = <0>;
            bindings = <&kp SLASH>, <&pad SLASH 0>;
            mods = <(MOD_LSFT|MOD_RSFT)>;
        };

        plus: plus {
            compatible = "zmk,behavior-mod-morph";
            #binding-cells = <0>;
            bindings = <&pad PLUS 0>, <&kp PLUS>;
            mods = <(MOD_LSFT|MOD_RSFT)>;
        };

        astrk: asterisk {
            compatible = "zmk,behavior-mod-morph";
            #binding-cells = <0>;
            bindings = <&kp ASTRK>, <&pad ASTRK 0>;
            mods = <(MOD_LSFT|MOD_RSFT)>;
        };

        equal: equal {
            compatible = "zmk,behavior-mod-morph";
            #binding-cells = <0>;
            bindings = <&pad EQUAL 0>, <&kp EQUAL>;
            mods = <(MOD_LSFT|MOD_RSFT)>;
        };


        space: space {
            compatible = "zmk,behavior-mod-morph";
            #binding-cells = <0>;
            bindings = <&kp SPACE>, <&deferred_shift SPACE>;
            mods = <(MOD_LSFT|MOD_RSFT)>;
        };

        apos: apostrophe_with_deferred_shift {
            compatible = "zmk,behavior-mod-morph";
            #binding-cells = <0>;
            bindings = <&kp GB_APOS>, <&deferred_shift GB_APOS>;
            mods = <(MOD_LSFT|MOD_RSFT)>;
        };


        dbl_quote: double_quotes_with_deferred_shift {
            compatible = "zmk,behavior-mod-morph";
            #binding-cells = <0>;
            bindings =  <&kp GB_DOUBLE_QUOTES>,
                        <&deferred_shift GB_DOUBLE_QUOTES>;
            mods = <(MOD_LSFT|MOD_RSFT)>;
        };

        lpar: opening_parenthesis_with_deferred_shift {
            compatible = "zmk,behavior-mod-morph";
            #binding-cells = <0>;
            bindings = <&kp LPAR>, <&deferred_shift LPAR>;
            mods = <(MOD_LSFT|MOD_RSFT)>;
        };


        ret: enter {
            compatible = "zmk,behavior-mod-morph";
            #binding-cells = <0>;
            keep-mods = <(MOD_LSFT|MOD_RSFT)>;
            bindings = <&kp RET>, <&deferred_shift RET>;
            mods = <(MOD_LSFT|MOD_RSFT)>;
        };


        bspc_mm: backspace_char_or_word_mod_morph {
            compatible = "zmk,behavior-mod-morph";
            #binding-cells = <0>;
            bindings = <&kp LC(BSPC)>, <&kp BSPC>;
            mods = <(MOD_LCTL|MOD_RCTL)>;
        };

        qu_mm: qu_mod_morph {
            compatible = "zmk,behavior-mod-morph";
            #binding-cells = <0>;
            bindings = <&bi Q U>, <&kp Q>;
            mods = <(MOD_LCTL|MOD_RCTL|MOD_LALT|MOD_RALT|MOD_LGUI|MOD_RGUI)>;
            keep-mods = <(MOD_LCTL|MOD_RCTL|MOD_LALT|MOD_RALT|MOD_LGUI|MOD_RGUI)>;
        };

        // Shortcuts
        copy_cut: copy_shift_cut {
            compatible = "zmk,behavior-mod-morph";
            #binding-cells = <0>;
            bindings = <&kp LC(C)>, <&kp LC(X)>;
            mods = <(MOD_LSFT|MOD_RSFT)>;
        };
        
        paste: paste {
            compatible = "zmk,behavior-mod-morph";
            #binding-cells = <0>;
            bindings = <&kp LC(V)>, <&kp LG(V)>;
            mods = <(MOD_LSFT|MOD_RSFT)>;
        };

        select_all_none: select_all_shift_select_none {
            compatible = "zmk,behavior-mod-morph";
            #binding-cells = <0>;
            bindings = <&kp LC(A)>, <&select_none>;
            mods = <(MOD_LSFT|MOD_RSFT)>;
        };

        select: select_word_shift_select_line {
            compatible = "zmk,behavior-mod-morph";
            #binding-cells = <0>;
            bindings = <&select_word>, <&select_line>;
            mods = <(MOD_LSFT|MOD_RSFT)>;
        };

        extend: extend_word_shift_extend_line {
            compatible = "zmk,behavior-mod-morph";
            #binding-cells = <0>;
            bindings = <&extend_word>, <&extend_line>;
            mods = <(MOD_LSFT|MOD_RSFT)>;
        };

        match_word: match_next_shift_match_all {
            compatible = "zmk,behavior-mod-morph";
            #binding-cells = <0>;
            bindings = <&kp LC(D)>, <&kp LC(LS(L))>;
            mods = <(MOD_LSFT|MOD_RSFT)>;
        };


        // Media
        play_pause: play_pause {
            compatible = "zmk,behavior-mod-morph";
            #binding-cells = <0>;
            bindings = <&kp C_PP>, <&kp F16>;
            mods = <(MOD_LSFT|MOD_RSFT)>;
        };
    };

    macros {
        rgb_ug_status_macro: rgb_ug_status_macro_0 {
          compatible = "zmk,behavior-macro";
            #binding-cells = <0>;
            bindings
                = <&rgb_ug RGB_STATUS>;
        };

        bt_0: bt_profile_macro_0 {
          compatible = "zmk,behavior-macro";
            #binding-cells = <0>;
            bindings
                = <&out OUT_BLE>,
                  <&bt BT_SEL 0>;
        };

        bt_1: bt_profile_macro_1 {
          compatible = "zmk,behavior-macro";
            #binding-cells = <0>;
            bindings
                = <&out OUT_BLE>,
                  <&bt BT_SEL 1>;
        };

        bt_2: bt_profile_macro_2 {
          compatible = "zmk,behavior-macro";
            #binding-cells = <0>;
            bindings
                = <&out OUT_BLE>,
                  <&bt BT_SEL 2>;
        };

        bt_3: bt_profile_macro_3 {
          compatible = "zmk,behavior-macro";
            #binding-cells = <0>;
            bindings
                = <&out OUT_BLE>,
                  <&bt BT_SEL 3>;
        };

        dc: double_char {
            compatible = "zmk,behavior-macro-one-param";
            #binding-cells = <1>;
            wait-ms = <1>;
            tap-ms = <1>;
            bindings =  <&macro_param_1to1 &kp 0>,
                        <&macro_param_1to1 &kp 0>;
        };

        tc: triple_char {
            compatible = "zmk,behavior-macro-one-param";
            #binding-cells = <1>;
            wait-ms = <1>;
            tap-ms = <1>;
            bindings =  <&macro_param_1to1 &kp 0>,
                        <&macro_param_1to1 &kp 0 &macro_param_1to1 &kp 0>;
        };

        bi: bigram {
            compatible = "zmk,behavior-macro-two-param";
            #binding-cells = <2>;
            wait-ms = <1>;
            tap-ms = <1>;
            bindings =  <&macro_param_1to1 &kp 0 &macro_param_2to1 &kp 0>;
        };


        pad: padded_characters {
            compatible = "zmk,behavior-macro-two-param";
            #binding-cells = <2>;
            wait-ms = <1>;
            tap-ms = <1>;
            bindings =  <&macro_release &kp LSHFT>,
                        <&macro_tap &kp SPACE &macro_param_1to1 &kp 0 \
                          &macro_param_2to1 &kp 0 &kp SPACE>;
        };

        spad: single_padded_character {
            compatible = "zmk,behavior-macro-one-param";
            #binding-cells = <1>;
            wait-ms = <1>;
            tap-ms = <1>;
            bindings =  <&macro_release &kp LSHFT>,
                        <&macro_tap &kp SPACE &macro_param_1to1 &kp 0 \
                          &kp SPACE>;
        };

        psnl: preceding_space_and_newline {
            compatible = "zmk,behavior-macro-one-param";
            #binding-cells = <1>;
            wait-ms = <1>;
            tap-ms = <1>;
            bindings =  <&macro_tap &kp SPACE &macro_param_1to1 &kp 0 \
                          &kp RET &kp TAB>;
        };

        ts: trailing_space {
            compatible = "zmk,behavior-macro-one-param";
            #binding-cells = <1>;
            wait-ms = <1>;
            tap-ms = <1>;
            bindings = <&macro_tap &macro_param_1to1 &kp 0 &kp SPACE>;
        };

        ts_bi: bigram_with_trailing_space {
            compatible = "zmk,behavior-macro-two-param";
            #binding-cells = <2>;
            wait-ms = <1>;
            tap-ms = <1>;
            bindings =  <&macro_tap &macro_param_1to1 &kp 0 \
                          &macro_param_2to1 &kp 0 &kp SPACE>;
        };

        se: sentence_ending {
            compatible = "zmk,behavior-macro-two-param";
            #binding-cells = <2>;
            wait-ms = <1>;
            tap-ms = <1>;
            bindings = <&macro_param_1to1 &kp 0 &macro_param_2to1 &kp 0 \
                        &kp SPACE &sk_qr LSHFT>;
        };

        deferred_shift: shift_deferred_to_next_char {
            compatible = "zmk,behavior-macro-one-param";
            #binding-cells = <1>;
            wait-ms = <1>;
            tap-ms = <1>;
            bindings = <&macro_param_1to1 &kp 0 &sk_qr LSHFT>;
        };

        cms: coding_mode_window_switch {
            compatible = "zmk,behavior-macro-one-param";
            #binding-cells = <1>;
            wait-ms = <1>;
            tap-ms = <1>;
            bindings = <&macro_press &kp LGUI>,
                       <&macro_tap &macro_param_1to1 &kp 0 &code_mode>,
                       <&macro_release &kp LGUI>;
        };

        ems: english_mode_window_switch {
            compatible = "zmk,behavior-macro-one-param";
            #binding-cells = <1>;
            wait-ms = <1>;
            tap-ms = <1>;
            bindings = <&macro_press &kp LGUI>,
                       <&macro_tap &english_mode &macro_param_1to1 &kp 0>,
                       <&macro_release &kp LGUI>;
      };

        code_mode: coding_mode {
            compatible = "zmk,behavior-macro";
            #binding-cells = <0>;
            wait-ms = <1>;
            tap-ms = <1>;
            bindings = <&macro_tap &kp LC(LA(LS(D))) &tog_on CODING>;
        };
        
        english_mode: english_mode {
            compatible = "zmk,behavior-macro";
            #binding-cells = <0>;
            wait-ms = <1>;
            tap-ms = <1>;
            bindings =  <&macro_tap &kp LC(LA(LS(L))) &tog_off CODING>;
        };

        // string_tog: toggle_writing_mode_for_string {
        //     compatible = "zmk,behavior-macro-one-param";
        //     #binding-cells = <1>;
        //     wait-ms = <1>;
        //     tap-ms = <1>;
        //     bindings =  <&macro_param_1to1 &kp 0 &sk_qr LSHFT>;
        //     mods = <(MOD_LSFT|MOD_RSFT)>;
        // };

        // clear_shift_mo: clear_shift_momentary_layer {
        //     compatible = "zmk,behavior-macro-one-param";
        //     #binding-cells = <1>;
        //     wait-ms = <1>;
        //     tap-ms = <1>;
        //     bindings =  <&macro_release &kp LSHFT>,
        //                 <&macro_press &macro_param_1to1 &mo 0>,
        //                 <&macro_pause_for_release>,
        //                 <&macro_release &macro_param_1to1 &mo 0>;
        // };

        js_eq: javascript_equalities {
            compatible = "zmk,behavior-macro-one-param";
            #binding-cells = <1>;
            wait-ms = <1>;
            tap-ms = <1>;
            bindings =  <&macro_release &kp LSHFT>,
                        <&macro_tap &kp SPACE &macro_param_1to1 &kp 0 \
                          &kp EQUAL &kp EQUAL &kp SPACE>;
        };      

        cd_up: change_directory_up {
            compatible = "zmk,behavior-macro";
            #binding-cells = <0>;
            wait-ms = <1>;
            tap-ms = <1>;
            bindings =  <&macro_release &kp LSHFT &macro_tap \
                          &kp DOT &kp DOT &kp FSLH>;
        };

        ellipsis: ellipsis {
            compatible = "zmk,behavior-macro";
            #binding-cells = <0>;
            wait-ms = <1>;
            tap-ms = <1>;
            bindings =  <&macro_release &kp LSHFT \
                          &macro_tap &kp DOT &se DOT DOT>;
        };



        us: unshiftable {
            compatible = "zmk,behavior-macro-two-param";
            #binding-cells = <2>;
            wait-ms = <1>;
            tap-ms = <1>;
            bindings =  <&macro_release &kp LSHFT>,
                        <&macro_tap &macro_param_1to1 &kp 0 \
                          &macro_param_2to1 &kp 0>;
        };

        single_sticky_tap: single_sticky_tap {
            compatible = "zmk,behavior-macro-one-param";
            #binding-cells = <1>;
            bindings = <&macro_tap &macro_param_1to1 &sk_qr 0>;
        };

        single_sticky_layer_tap: single_sticky_layer_tap {
            compatible = "zmk,behavior-macro-one-param";
            #binding-cells = <1>;
            bindings = <&macro_tap &macro_param_1to1 &sl 0>;
        };


        // the: the_word {
        //     compatible = "zmk,behavior-macro";
        //     #binding-cells = <0>;
        //     wait-ms = <1>;
        //     tap-ms = <1>;
        //     bindings =  <&macro_tap &kp T &kp H &kp E &kp SPACE>;
        // };
 
        // and: and_word {
        //     compatible = "zmk,behavior-macro";
        //     #binding-cells = <0>;
        //     wait-ms = <1>;
        //     tap-ms = <1>;
        //     bindings = <&macro_tap &kp A &kp N &kp D &kp SPACE>;
        // };
         
        // but: but_word {
        //     compatible = "zmk,behavior-macro";
        //     #binding-cells = <0>;
        //     wait-ms = <1>;
        //     tap-ms = <1>;
        //     bindings = <&macro_tap &kp B &kp U &kp T &kp SPACE>;
        // };
        
        email: email_address {
            compatible = "zmk,behavior-macro";
            #binding-cells = <0>;
            wait-ms = <1>;
            tap-ms = <1>;
            bindings =  <&macro_release &kp LSHFT>,
                        <&macro_tap &kp A &kp O &kp W &kp E &kp E &kp K &kp S \
                          &kp GB_AT &kp G &kp M &kp A &kp I &kp L &kp DOT \
                          &kp C &kp O &kp M >;
        };

        phone: phone_number {
            compatible = "zmk,behavior-macro";
            #binding-cells = <0>;
            wait-ms = <1>;
            tap-ms = <1>;
            bindings = <&macro_release &kp LSHFT>,
                       <&macro_tap &kp N0 &kp N7 &kp N5 &kp N8 &kp N4 &kp N5 \
                        &kp N7 &kp N0 &kp N6 &kp N9 &kp N4>;
        };



        snpt: snippet_prefix {
            compatible = "zmk,behavior-macro-two-param";
            #binding-cells = <2>;
            wait-ms = <50>;
            tap-ms = <1>;
            bindings =  <&macro_release &kp LSHFT>,
                        <&macro_tap &kp GB_POUND_SIGN>,
                        <&macro_wait_time 1>,
                        <&macro_tap &macro_param_1to1 &kp 0 &macro_param_2to1 \
                          &kp 0>,
                        <&macro_tap &kp TAB>;
        };


        array: array_keyword {
            compatible = "zmk,behavior-macro-two-param";
            #binding-cells = <2>;
            wait-ms = <1>;
            tap-ms = <1>;
            bindings =  <&macro_tap &macro_param_1to1 &sk_qr 0>,  
                        <&macro_tap &kp A &kp R &kp R &kp A &kp Y \
                          &macro_param_2to1 &kp 0>;
        };

        any: any_keyword {
            compatible = "zmk,behavior-macro";
            #binding-cells = <0>;
            wait-ms = <1>;
            tap-ms = <1>;
            bindings =   <&macro_tap &kp A &kp N &kp Y>;
        };

        bool: bool_keyword {
            compatible = "zmk,behavior-macro-two-param";
            #binding-cells = <2>;
            wait-ms = <1>;
            tap-ms = <1>;
            bindings =  <&macro_tap &macro_param_1to1 &sk_qr 0>,
                        <&macro_tap &kp B &kp O &kp O &kp L \
                          &macro_param_2to1 &kp 0>;
        };

        boolean: boolean_keyword {
            compatible = "zmk,behavior-macro-two-param";
            #binding-cells = <2>;
            wait-ms = <1>;
            tap-ms = <1>;
            bindings =  <&macro_tap &macro_param_1to1 &sk_qr 0>,  
                        <&macro_tap &kp B &kp O &kp O &kp L &kp E &kp A &kp N \
                           &macro_param_2to1 &kp 0>;
        };

        define: define_keyword {
            compatible = "zmk,behavior-macro-two-param";
            #binding-cells = <2>;
            wait-ms = <1>;
            tap-ms = <1>;
            bindings =  <&macro_tap &macro_param_1to1 &kp 0 \
                          &kp D &kp E &kp F &kp I &kp N &kp E \
                          &macro_param_2to1 &kp 0>;
        };

        const: const_keyword {
            compatible = "zmk,behavior-macro";
            #binding-cells = <0>;
            wait-ms = <1>;
            tap-ms = <1>;
            bindings =  <&macro_tap &kp C &kp O &kp N &kp S &kp T &kp SPACE>;
        };
        
        include: include_keyword {
            compatible = "zmk,behavior-macro-two-param";
            #binding-cells = <2>;
            wait-ms = <1>;
            tap-ms = <1>;
            bindings =  <&macro_tap &macro_param_1to1 &kp 0 \
                          &kp I &kp N &kp C &kp L &kp U &kp D &kp E \
                          &macro_param_2to1 &kp 0>;
        };

        int: int_keyword {
            compatible = "zmk,behavior-macro-two-param";
            #binding-cells = <2>;
            wait-ms = <1>;
            tap-ms = <1>;
            bindings =  <&macro_tap &macro_param_1to1 &sk_qr 0>,  
                        <&macro_tap &kp I &kp N &kp T \
                          &macro_param_2to1 &kp 0>;
        };

        big_int: big_int_keyword {
            compatible = "zmk,behavior-macro";
            #binding-cells = <0>;
            wait-ms = <1>;
            tap-ms = <1>;
            bindings =  <&macro_tap &kp B &kp I &kp G &kp I &kp N &kp T>;
        };

        break: break_keyword {
            compatible = "zmk,behavior-macro-one-param";
            #binding-cells = <1>;
            wait-ms = <1>;
            tap-ms = <1>;
            bindings =  <&macro_tap &kp B &kp R &kp E &kp A &kp K \
                          &macro_param_1to1 &kp 0>;
        };

        continue: continue_keyword {
            compatible = "zmk,behavior-macro-one-param";
            #binding-cells = <1>;
            wait-ms = <1>;
            tap-ms = <1>;
            bindings =  <&macro_tap &kp C &kp O &kp N &kp T &kp I &kp N &kp U \
                          &kp E &macro_param_1to1 &kp 0>;
        };

        class: class_keyword {
            compatible = "zmk,behavior-macro-two-param";
            #binding-cells = <2>;
            wait-ms = <1>;
            tap-ms = <1>;
            bindings =  <&macro_tap &macro_param_1to1 &sk_qr 0>,  
                        <&macro_tap &kp C &kp L &kp A &kp S &kp S \
                          &macro_param_2to1 &kp 0>;
        };

        false: false_keyword {
            compatible = "zmk,behavior-macro";
            #binding-cells = <0>;
            wait-ms = <1>;
            tap-ms = <1>;
            bindings =  <&macro_tap &kp F &kp A &kp L &kp S &kp E>;
        };

        float: float_keyword {
            compatible = "zmk,behavior-macro-two-param";
            #binding-cells = <2>;
            wait-ms = <1>;
            tap-ms = <1>;
            bindings =  <&macro_tap &macro_param_1to1 &sk_qr 0>,  
                        <&macro_tap &kp F &kp L &kp O &kp A &kp T \
                           &macro_param_2to1 &kp 0>;
        };

        func: func_keyword {
            compatible = "zmk,behavior-macro";
            #binding-cells = <0>;
            wait-ms = <1>;
            tap-ms = <1>;
            bindings =  <&macro_release &kp LSHFT>,
                        <&macro_tap &kp F &kp U &kp N &kp C &kp SPACE>;
        };

        function: function_keyword {
            compatible = "zmk,behavior-macro-two-param";
            #binding-cells = <2>;
            wait-ms = <1>;
            tap-ms = <1>;
            bindings =  <&macro_tap &macro_param_1to1 &sk_qr 0>,  
                        <&macro_tap &kp F &kp U &kp N &kp C &kp T &kp I &kp O \
                           &kp N &macro_param_2to1 &kp 0>;
        };

        let: let_keyword {
            compatible = "zmk,behavior-macro-two-param";
            #binding-cells = <2>;
            wait-ms = <1>;
            tap-ms = <1>;
            bindings =  <&macro_tap &macro_param_1to1 &sk_qr 0>,  
                        <&macro_tap &kp L &kp E &kp T &macro_param_2to1 &kp 0>;
        };

        number: number_keyword {
            compatible = "zmk,behavior-macro";
            #binding-cells = <0>;
            wait-ms = <1>;
            tap-ms = <1>;
            bindings =  <&macro_tap &kp N &kp U &kp M &kp B &kp E &kp R>;
        };

        string: string_keyword {
            compatible = "zmk,behavior-macro-two-param";
            #binding-cells = <2>;
            wait-ms = <1>;
            tap-ms = <1>;
            bindings =  <&macro_tap &macro_param_1to1 &sk_qr 0>,  
                        <&macro_tap &kp S &kp T &kp R &kp I &kp N &kp G \
                           &macro_param_2to1 &kp 0>;
        };

        object: object_keyword {
            compatible = "zmk,behavior-macro-two-param";
            #binding-cells = <2>;
            wait-ms = <1>;
            tap-ms = <1>;
            bindings =  <&macro_tap &macro_param_1to1 &sk_qr 0>,  
                        <&macro_tap &kp O &kp B &kp J &kp E &kp C &kp T \
                           &macro_param_2to1 &kp 0>;
        };

        mapping: mapping_keyword {
            compatible = "zmk,behavior-macro-two-param";
            #binding-cells = <2>;
            wait-ms = <1>;
            tap-ms = <1>;
            bindings =  <&macro_tap &macro_param_1to1 &sk_qr 0>,  
                        <&macro_tap &kp M &kp A &kp P &kp P &kp I &kp N &kp G \
                           &macro_param_2to1 &kp 0>;
        };

        mixed: mixed_keyword {
            compatible = "zmk,behavior-macro-two-param";
            #binding-cells = <2>;
            wait-ms = <1>;
            tap-ms = <1>;
            bindings =  <&macro_tap &macro_param_1to1 &sk_qr 0>,  
                        <&macro_tap &kp M &kp I &kp X &kp E &kp D \
                          &macro_param_2to1 &kp 0>;
        };

        this: this_keyword {
            compatible = "zmk,behavior-macro-one-param";
            #binding-cells = <1>;
            wait-ms = <1>;
            tap-ms = <1>;
            bindings =  <&macro_tap &kp T &kp H &kp I &kp S \
                          &macro_param_1to1 &kp 0>;
        };

        true: true_keyword {
            compatible = "zmk,behavior-macro";
            #binding-cells = <0>;
            wait-ms = <1>;
            tap-ms = <1>;
            bindings =  <&macro_tap &kp T &kp R &kp U &kp E>;
        };

        var: var_keyword {
            compatible = "zmk,behavior-macro";
            #binding-cells = <0>;
            wait-ms = <1>;
            tap-ms = <1>;
            bindings =  <&macro_tap &kp V &kp A &kp R &kp SPACE >;
        };

        varargs: varargs_keyword {
            compatible = "zmk,behavior-macro";
            #binding-cells = <0>;
            wait-ms = <1>;
            tap-ms = <1>;
            bindings =  <&macro_tap &kp V &kp A &kp R &kp A &kp R &kp G \
                          &kp S &kp SPACE >;
        };

        vec: vec_keyword {
            compatible = "zmk,behavior-macro-one-param";
            #binding-cells = <1>;
            wait-ms = <1>;
            tap-ms = <1>;
            bindings =  <&macro_release &kp LSHFT>,
                        <&macro_tap &kp V &kp E &kp C &macro_param_1to1 &kp 0 \
                          &kp SPACE >;
        };

        vector: vector_keyword {
            compatible = "zmk,behavior-macro-two-param";
            #binding-cells = <2>;
            wait-ms = <1>;
            tap-ms = <1>;
            bindings =  <&macro_tap &macro_param_1to1 &sk_qr 0>,  
                        <&macro_tap &kp V &kp E &kp C &kp T &kp O &kp R
                          &macro_param_2to1 &kp 0>;
        };

        void: void_keyword {
            compatible = "zmk,behavior-macro-two-param";
            #binding-cells = <2>;
            wait-ms = <1>;
            tap-ms = <1>;
            bindings =  <&macro_tap &macro_param_1to1 &sk_qr 0>,  
                        <&macro_tap &kp V &kp O &kp I &kp D &macro_param_2to1 \
                          &kp 0>;
        };


        return: return_keyword {
            compatible = "zmk,behavior-macro";
            #binding-cells = <0>;
            wait-ms = <1>;
            tap-ms = <1>;
            bindings =  <&macro_tap &kp R &kp E &kp T &kp U &kp R &kp N>;
        };

        sizeof: sizeof_call {
            compatible = "zmk,behavior-macro";
            #binding-cells = <0>;
            wait-ms = <1>;
            tap-ms = <1>;
            bindings =  <&macro_tap &kp S &kp I &kp Z &kp E &kp O &kp F \
                           &kp LPAR &kp SPACE>;
        };

        len: len_call {
            compatible = "zmk,behavior-macro";
            #binding-cells = <0>;
            wait-ms = <1>;
            tap-ms = <1>;
            bindings =  <&macro_tap &kp L &kp E &kp N &kp LPAR &kp SPACE>;
        };

        length: length_keyword {
            compatible = "zmk,behavior-macro-one-param";
            #binding-cells = <1>;
            wait-ms = <1>;
            tap-ms = <1>;
            bindings =  <&macro_tap &macro_param_1to1 &kp 0 \
                          &kp L &kp E &kp N &kp G &kp T &kp H >;
        };


        private: private_keyword {
            compatible = "zmk,behavior-macro-one-param";
            #binding-cells = <1>;
            wait-ms = <1>;
            tap-ms = <1>;
            bindings =  <&macro_tap &kp P &kp R &kp I &kp V &kp A &kp T \
                          &kp E &macro_param_1to1 &kp 0>;
        };

        protected: protected_keyword {
            compatible = "zmk,behavior-macro-one-param";
            #binding-cells = <1>;
            wait-ms = <1>;
            tap-ms = <1>;
            bindings =  <&macro_tap &kp P &kp R &kp O &kp T &kp E &kp C \
                          &kp T &kp E &kp D  &macro_param_1to1 &kp 0>;
        };

        public: public_keyword {
            compatible = "zmk,behavior-macro-one-param";
            #binding-cells = <1>;
            wait-ms = <1>;
            tap-ms = <1>;
            bindings =  <&macro_tap &kp P &kp U &kp B &kp L &kp I &kp C \
                           &macro_param_1to1 &kp 0>;
        };


        bkt_start: go_to_bracket_start {
            compatible = "zmk,behavior-macro";
            #binding-cells = <0>;
            wait-ms = <1>;
            tap-ms = <1>;
            bindings =  <&macro_tap &kp LC(LS(GB_BSLH)) &kp LC(LS(GB_BSLH)) \
                          &kp LEFT_ARROW>;
        };

        bkt_end: go_to_bracket_end {
            compatible = "zmk,behavior-macro";
            #binding-cells = <0>;
            wait-ms = <1>;
            tap-ms = <1>;
            bindings =  <&macro_tap &kp LC(LS(GB_BSLH)) &kp RIGHT_ARROW>;
        };

        scl: set_coding_language {
            compatible = "zmk,behavior-macro-one-param";
            #binding-cells = <1>;
            wait-ms = <1>;
            tap-ms = <1>;
            bindings = <&macro_tap &tog_off TS &tog_off C_LANG &tog_off PYTHON\
                          &macro_param_1to1 &tog_on 0>;
        };



        //////////////////////////////////////////////////////////////////////////
        // (From https://github.com/sunaku/glove80-keymaps/)
        // Approximation of Pascal Getreuer's Select Word macro from QMK
        // - https://getreuer.info/posts/keyboards/select-word/index.html
        //////////////////////////////////////////////////////////////////////////

        //  
        // SELECT_WORD_DELAY defines how long the macro waits (milliseconds)
        // after moving the cursor before it selects a word.  A larger delay
        // may allow the macro to move to the next word upon each invocation.
        //
        #ifndef SELECT_WORD_DELAY
        #define SELECT_WORD_DELAY 1
        #endif

        ZMK_MACRO(select_none,
            wait-ms = <SELECT_WORD_DELAY>;
            tap-ms = <SELECT_WORD_DELAY>;
            bindings = <&kp DOWN &kp UP &kp RIGHT &kp LEFT>;
        )

        //
        // select a word (jumps to next word upon each successive invocation)
        //
        select_word: select_word {
            compatible = "zmk,behavior-mod-morph";
            #binding-cells = <0>;
            bindings = <&select_word_right>, <&select_word_left>;
            mods = <(MOD_LSFT|MOD_RSFT)>;
        };
        ZMK_MACRO(select_word_right,
            wait-ms = <SELECT_WORD_DELAY>;
            tap-ms = <SELECT_WORD_DELAY>;
            bindings = <&kp LC(RIGHT) &kp LC(LEFT) &kp LC(LS(RIGHT))>;
        )
        ZMK_MACRO(select_word_left,
            wait-ms = <SELECT_WORD_DELAY>;
            tap-ms = <SELECT_WORD_DELAY>;
            bindings = <&kp LC(LEFT) &kp LC(RIGHT) &kp LC(LS(LEFT))>;
        )

        //
        // extend current selection by one word
        //
        extend_word: extend_word {
            compatible = "zmk,behavior-mod-morph";
            #binding-cells = <0>;
            bindings = <&extend_word_right>, <&extend_word_left>;
            mods = <(MOD_LSFT|MOD_RSFT)>;
        };
        ZMK_MACRO(extend_word_right,
            wait-ms = <SELECT_WORD_DELAY>;
            tap-ms = <SELECT_WORD_DELAY>;
            bindings = <&kp LC(LS(RIGHT))>;
        )
        ZMK_MACRO(extend_word_left,
            wait-ms = <SELECT_WORD_DELAY>;
            tap-ms = <SELECT_WORD_DELAY>;
            bindings = <&kp LC(LS(LEFT))>;
        )

        //
        // select current line
        //
        select_line: select_line {
            compatible = "zmk,behavior-mod-morph";
            #binding-cells = <0>;
            bindings = <&select_line_right>, <&select_line_left>;
            mods = <(MOD_LSFT|MOD_RSFT)>;
        };
        ZMK_MACRO(select_line_right,
            wait-ms = <SELECT_WORD_DELAY>;
            tap-ms = <SELECT_WORD_DELAY>;
            bindings = <&kp HOME &kp LS(END)>;
        )
        ZMK_MACRO(select_line_left,
            wait-ms = <SELECT_WORD_DELAY>;
            tap-ms = <SELECT_WORD_DELAY>;
            bindings = <&kp END &kp LS(HOME)>;
        )

        //
        // extend current selection by one line
        //
        extend_line: extend_line {
            compatible = "zmk,behavior-mod-morph";
            #binding-cells = <0>;
            bindings = <&extend_line_right>, <&extend_line_left>;
            mods = <(MOD_LSFT|MOD_RSFT)>;
        };
        ZMK_MACRO(extend_line_right,
            wait-ms = <SELECT_WORD_DELAY>;
            tap-ms = <SELECT_WORD_DELAY>;
            bindings = <&kp LS(DOWN) &kp LS(END)>;
        )
        ZMK_MACRO(extend_line_left,
            wait-ms = <SELECT_WORD_DELAY>;
            tap-ms = <SELECT_WORD_DELAY>;
            bindings = <&kp LS(UP) &kp LS(HOME)>;
        )


        // Emojis
        e_smiley: emoji_smiley {
            compatible = "zmk,behavior-macro";
            #binding-cells = <0>;
            wait-ms = <1>;
            tap-ms = <1>;
            bindings = <&macro_tap &kp LC(LS(U)) &kp N0 &kp N1 &kp F &kp N6 &kp N4 &kp N2 &kp ENTER>;
        };

        e_sad: emoji_sad {
            compatible = "zmk,behavior-macro";
            #binding-cells = <0>;
            wait-ms = <1>;
            tap-ms = <1>;
            bindings = <&macro_tap &kp RALT &kp U &kp N2 &kp N6 &kp N3 &kp N9 &kp ENTER>;
        };

        e_thumb_up: emoji_thumbs_up {
            compatible = "zmk,behavior-macro";
            #binding-cells = <0>;
            wait-ms = <1>;
            tap-ms = <1>;
            bindings = <&macro_tap &kp RALT &kp U &kp 1 &kp F &kp N4 &kp N4 &kp D &kp ENTER>;
        };

        e_thumb_down: emoji_thumbs_down {
            compatible = "zmk,behavior-macro";
            #binding-cells = <0>;
            wait-ms = <1>;
            tap-ms = <1>;
            bindings = <&macro_tap &kp RALT &kp U &kp 1 &kp F &kp N4 &kp N4 &kp E &kp ENTER>;
        };

        e_kiss: emoji_blowing_kiss {
            compatible = "zmk,behavior-macro";
            #binding-cells = <0>;
            wait-ms = <1>;
            tap-ms = <1>;
            bindings = <&macro_tap &kp RALT &kp U &kp N1 &kp F &kp N6 &kp N1 &kp N8 &kp ENTER>;
        };

        e_laughing: emoji_laughing_crying {
            compatible = "zmk,behavior-macro";
            #binding-cells = <0>;
            wait-ms = <1>;
            tap-ms = <1>;
            bindings = <&macro_tap &kp RALT &kp U &kp N1 &kp F &kp N6 &kp N0 &kp N2 &kp ENTER>;
        };

        e_poke: emoji_winking_poking_tongue_out {
            compatible = "zmk,behavior-macro";
            #binding-cells = <0>;
            wait-ms = <1>;
            tap-ms = <1>;
            bindings = <&macro_tap &kp RALT &kp U &kp N1 &kp F &kp N6 &kp N1 &kp C &kp ENTER>;
        };

        e_surprised: emoji_surprised {
            compatible = "zmk,behavior-macro";
            #binding-cells = <0>;
            wait-ms = <1>;
            tap-ms = <1>;
            bindings = <&macro_tap &kp RALT &kp U &kp N1 &kp F &kp N6 &kp N2 &kp E &kp ENTER>;
        };

        e_crying: emoji_crying {
            compatible = "zmk,behavior-macro";
            #binding-cells = <0>;
            wait-ms = <1>;
            tap-ms = <1>;
            bindings = <&macro_tap &kp RALT &kp U &kp N1 &kp F &kp N6 &kp N2 &kp D &kp ENTER>;
        };

        e_diagonal: emoji_diagonal_mouth {
            compatible = "zmk,behavior-macro";
            #binding-cells = <0>;
            wait-ms = <1>;
            tap-ms = <1>;
            bindings = <&macro_tap &kp RALT &kp U &kp N1 &kp F &kp A &kp E &kp N4 &kp ENTER>;
        };

    };

    combos {
        compatible = "zmk,combos";

        // combo_sticky_hyper {
        //     timeout-ms = <30>;
        //     key-positions = <26 27>;
        //     require-prior-idle-ms = <400>;
        //     layers = <DEFAULT NUMS_SYMS NAV MOUSING>;
        //     bindings = <&sk HYPER>;
        // };

        combo_f14 {
            timeout-ms = <30>;
            key-positions = <26 28>;
            require-prior-idle-ms = <400>;
            layers = <DEFAULT NUMS_SYMS NAV MOUSING>;
            bindings = <&kp F14>;
        };

        combo_alt_space {
            timeout-ms = <30>;
            key-positions = <66 67>;
            require-prior-idle-ms = <400>;
            layers = <DEFAULT NUMS_SYMS NAV MOUSING>;
            bindings = <&kp LA(SPACE)>;
        };

    };

    conditional_layers {
        compatible = "zmk,conditional-layers";


        activate_coding_nums_syms_layer {
            if-layers = <CODING NUMS_SYMS>;
            then-layer = <CODING_NUMS_SYMS>;
        };

        activate_javascript_bigram_layer {
            if-layers = <CODING TS BIGRAM>;
            then-layer = <TS_BIGRAM>;
        };

        activate_javascript_double_layer {
            if-layers = <CODING TS DBL>;
            then-layer = <TS_DBL>;
        };

        activate_javascript_keywords_layer {
            if-layers = <CODING TS KEYW>;
            then-layer = <TS_KEYW>;
        };

        activate_c_keywords_layer {
            if-layers = <CODING C_LANG KEYW>;
            then-layer = <C_KEYW>;
        };

        activate_python_keywords_layer {
            if-layers = <CODING PYTHON KEYW>;
            then-layer = <PYTHON_KEYW>;
        };
    };


    keymap {
        compatible = "zmk,keymap";
        
        default_layer {
            bindings = <
//╭──────────────────┬────────────────┬─────────┬─────────────┬─────────────╮                                                                                                                                                   ╭───────┬────────┬────────────┬─────────────────────┬───────────────────╮
    &magic MAGIC 0     &to WASD         &none     &scl C_LANG   &none                                                                                                                                                             &none   &none    &none        &none                 &none          
//├──────────────────┼────────────────┼─────────┼─────────────┼─────────────┼───────╮                                                                                                                                   ╭───────┼───────┼────────┼────────────┼─────────────────────┼───────────────────┤
    &none              &none            &scl TS   &slash        &scl PYTHON   &none                                                                                                                                       &none   &none   &minus   &none        &none                 &none
//├──────────────────┼────────────────┼─────────┼─────────────┼─────────────┼───────┤                                                                                                                                   ├───────┼───────┼────────┼────────────┼─────────────────────┼───────────────────┤
    &to MOUSING        &code_mode       &kp W     &kp F         &kp P         &kp B                                                                                                                                       &kp J   &kp L   &kp U    &kp Y        &none                 &none  
//├──────────────────┼────────────────┼─────────┼─────────────┼─────────────┼───────┤                                                                                                                                   ├───────┼───────┼────────┼────────────┼─────────────────────┼───────────────────┤
    &qu_lt MOUSING 0   &kp A            &kp R     &kp S         &kp T         &kp G                                                                                                                                       &kp M   &kp N   &kp E    &kp I        &kp O                 &apos_lt FKEYS 0
//├──────────────────┼────────────────┼─────────┼─────────────┼─────────────┼───────┼──────────────────────┬─────────────────────┬──────────────────╮ ╭─────────────────────────┬───────────────────┬───────────────────┼───────┼───────┼────────┼────────────┼─────────────────────┼───────────────────┤
    &excl_lt SNIP 0    &mt_rpi LALT Z   &kp X     &kp C         &kp D         &kp V   &caps_word_lt KEYW 0   &lt_rpi MOUSING DEL   &none                &none                     &mt_rpi LSHFT F14   &lt_rpi DBL ESC     &kp K   &kp H   &comma   &dot         &mt_rpi LCTRL UNDER   &equal_lt MOUSE 0
//├──────────────────┼────────────────┼─────────┼─────────────┼─────────────┴───────┼──────────────────────┼─────────────────────┼──────────────────┤ ├─────────────────────────┼───────────────────┼───────────────────┼───────┴───────┼────────┼────────────┼─────────────────────┼───────────────────┤
    &none              &qmark           &plus     &lpar         &kp RPAR              &rpt_lt NUMS_SYMS 0    &shift_mm             &ret_lt BIGRAM 0     &undecided_lt EMOJI TAB   &bspc_lt WINDOW 0   &space_lt NAV 0             &semi   &colon   &dbl_quote   &astrk                &none
//╰──────────────────┴────────────────┴─────────┴─────────────┴─────────────╯       ╰──────────────────────┴─────────────────────┴──────────────────╯ ╰─────────────────────────┴───────────────────┴───────────────────╯       ╰───────┴────────┴────────────┴─────────────────────┴───────────────────╯
            >;
        };

        coding_layer {
            bindings = <
//╭───────────────────┬───────────────┬─────────┬───────────┬────────╮                                                                                                  ╭─────────┬──────────┬────────┬────────┬────────╮
    &trans              &trans          &trans    &trans      &trans                                                                                                      &trans    &trans     &trans   &trans   &trans          
//├───────────────────┼───────────────┼─────────┼───────────┼────────┼────────╮                                                                                ╭────────┼─────────┼──────────┼────────┼────────┼────────┤
    &trans              &trans          &trans    &trans      &trans   &trans                                                                                    &trans   &trans    &trans     &trans   &trans   &trans
//├───────────────────┼───────────────┼─────────┼───────────┼────────┼────────┤                                                                                ├────────┼─────────┼──────────┼────────┼────────┼────────┤
    &trans              &english_mode   &trans    &trans      &trans   &trans                                                                                    &trans   &trans    &trans     &trans   &trans   &trans  
//├───────────────────┼───────────────┼─────────┼───────────┼────────┼────────┤                                                                                ├────────┼─────────┼──────────┼────────┼────────┼────────┤
    &trans              &trans          &trans    &trans      &trans   &trans                                                                                    &trans   &trans    &trans     &trans   &trans   &trans
//├───────────────────┼───────────────┼─────────┼───────────┼────────┼────────┼────────┬────────┬────────────────────╮ ╭────────┬─────────────────────┬────────┼────────┼─────────┼──────────┼────────┼────────┼────────┤
    &excl_i_lt SNIP 0   &trans          &trans    &trans      &trans   &trans   &trans   &trans   &trans                 &trans   &trans                &trans   &trans   &trans    &trans     &dot_i   &trans   &trans
//├───────────────────┼───────────────┼─────────┼───────────┼────────┴────────┼────────┼────────┼────────────────────┤ ├────────┼─────────────────────┼────────┼────────┴─────────┼──────────┼────────┼────────┼────────┤
    &trans              &qmark_i        &trans    &lpar_spc   &trans            &trans   &trans   &lt_rpi BIGRAM RET     &trans   &bspc_i_lt WINDOW 0   &trans            &semi_i   &colon_i   &trans   &trans   &trans
//╰───────────────────┴───────────────┴─────────┴───────────┴────────╯        ╰────────┴────────┴────────────────────╯ ╰────────┴─────────────────────┴────────╯        ╰─────────┴──────────┴────────┴────────┴────────╯
            >;
        };

        typescript_mode_layer {
            bindings = <
//╭────────┬────────┬────────┬────────┬────────╮                                                                         ╭────────┬────────┬────────┬────────┬────────╮
    &trans   &trans   &trans   &trans   &trans                                                                             &trans   &trans   &trans   &trans   &trans      
//├────────┼────────┼────────┼────────┼────────┼────────╮                                                       ╭────────┼────────┼────────┼────────┼────────┼────────┤
    &trans   &trans   &trans   &trans   &trans   &trans                                                           &trans   &trans   &trans   &trans   &trans   &trans      
//├────────┼────────┼────────┼────────┼────────┼────────┤                                                       ├────────┼────────┼────────┼────────┼────────┼────────┤
    &trans   &trans   &trans   &trans   &trans   &trans                                                           &trans   &trans   &trans   &trans   &trans   &trans      
//├────────┼────────┼────────┼────────┼────────┼────────┤                                                       ├────────┼────────┼────────┼────────┼────────┼────────┤
    &trans   &trans   &trans   &trans   &trans   &trans                                                           &trans   &trans   &trans   &trans   &trans   &trans      
//├────────┼────────┼────────┼────────┼────────┼────────┼────────┬────────┬────────╮ ╭────────┬────────┬────────┼────────┼────────┼────────┼────────┼────────┼────────┤
    &trans   &trans   &trans   &trans   &trans   &trans   &trans   &trans   &trans     &trans   &trans   &trans   &trans   &trans   &trans   &trans   &trans   &trans       
//├────────┼────────┼────────┼────────┼────────┴────────┼────────┼────────┼────────┤ ├────────┼────────┼────────┼────────┴────────┼────────┼────────┼────────┼────────┤
    &trans   &trans   &trans   &trans   &trans            &trans   &trans   &trans     &trans   &trans   &trans            &trans   &trans   &trans   &trans   &trans 
//╰────────┴────────┴────────┴────────┴────────╯        ╰────────┴────────┴────────╯ ╰────────┴────────┴────────╯        ╰────────┴────────┴────────┴────────┴────────╯
            >;
        };

        c_mode_layer {
            bindings = <
//╭────────┬────────┬────────┬────────┬────────╮                                                                         ╭────────┬────────┬────────┬────────┬────────╮
    &trans   &trans   &trans   &trans   &trans                                                                             &trans   &trans   &trans   &trans   &trans      
//├────────┼────────┼────────┼────────┼────────┼────────╮                                                       ╭────────┼────────┼────────┼────────┼────────┼────────┤
    &trans   &trans   &trans   &trans   &trans   &trans                                                           &trans   &trans   &trans   &trans   &trans   &trans      
//├────────┼────────┼────────┼────────┼────────┼────────┤                                                       ├────────┼────────┼────────┼────────┼────────┼────────┤
    &trans   &trans   &trans   &trans   &trans   &trans                                                           &trans   &trans   &trans   &trans   &trans   &trans      
//├────────┼────────┼────────┼────────┼────────┼────────┤                                                       ├────────┼────────┼────────┼────────┼────────┼────────┤
    &trans   &trans   &trans   &trans   &trans   &trans                                                           &trans   &trans   &trans   &trans   &trans   &trans      
//├────────┼────────┼────────┼────────┼────────┼────────┼────────┬────────┬────────╮ ╭────────┬────────┬────────┼────────┼────────┼────────┼────────┼────────┼────────┤
    &trans   &trans   &trans   &trans   &trans   &trans   &trans   &trans   &trans     &trans   &trans   &trans   &trans   &trans   &trans   &trans   &trans   &trans       
//├────────┼────────┼────────┼────────┼────────┴────────┼────────┼────────┼────────┤ ├────────┼────────┼────────┼────────┴────────┼────────┼────────┼────────┼────────┤
    &trans   &trans   &trans   &trans   &trans            &trans   &trans   &trans     &trans   &trans   &trans            &trans   &trans   &trans   &trans   &trans 
//╰────────┴────────┴────────┴────────┴────────╯        ╰────────┴────────┴────────╯ ╰────────┴────────┴────────╯        ╰────────┴────────┴────────┴────────┴────────╯
            >;
        };

        python_mode_layer {
            bindings = <
//╭────────┬────────┬────────┬────────┬────────╮                                                                         ╭────────┬────────┬────────┬────────┬────────╮
    &trans   &trans   &trans   &trans   &trans                                                                             &trans   &trans   &trans   &trans   &trans      
//├────────┼────────┼────────┼────────┼────────┼────────╮                                                       ╭────────┼────────┼────────┼────────┼────────┼────────┤
    &trans   &trans   &trans   &trans   &trans   &trans                                                           &trans   &trans   &trans   &trans   &trans   &trans      
//├────────┼────────┼────────┼────────┼────────┼────────┤                                                       ├────────┼────────┼────────┼────────┼────────┼────────┤
    &trans   &trans   &trans   &trans   &trans   &trans                                                           &trans   &trans   &trans   &trans   &trans   &trans      
//├────────┼────────┼────────┼────────┼────────┼────────┤                                                       ├────────┼────────┼────────┼────────┼────────┼────────┤
    &trans   &trans   &trans   &trans   &trans   &trans                                                           &trans   &trans   &trans   &trans   &trans   &trans      
//├────────┼────────┼────────┼────────┼────────┼────────┼────────┬────────┬────────╮ ╭────────┬────────┬────────┼────────┼────────┼────────┼────────┼────────┼────────┤
    &trans   &trans   &trans   &trans   &trans   &trans   &trans   &trans   &trans     &trans   &trans   &trans   &trans   &trans   &trans   &trans   &trans   &trans       
//├────────┼────────┼────────┼────────┼────────┴────────┼────────┼────────┼────────┤ ├────────┼────────┼────────┼────────┴────────┼────────┼────────┼────────┼────────┤
    &trans   &trans   &trans   &trans   &trans            &trans   &trans   &trans     &trans   &trans   &trans            &trans   &trans   &trans   &trans   &trans 
//╰────────┴────────┴────────┴────────┴────────╯        ╰────────┴────────┴────────╯ ╰────────┴────────┴────────╯        ╰────────┴────────┴────────┴────────┴────────╯
            >;
        };

        navigation_layer {
            bindings = <
//╭───────────┬──────────────┬──────────────┬───────────────┬──────────────╮                                                                                                ╭──────────────────┬───────────────┬─────────────┬─────────────┬─────────────╮
    &none       &none          &none          &none           &none                                                                                                           &none              &none           &none         &none         &none      
//├───────────┼──────────────┼──────────────┼───────────────┼──────────────┼──────────────╮                                                                   ╭─────────────┼──────────────────┼───────────────┼─────────────┼─────────────┼─────────────┤
    &none       &none          &none          &kp LC(FSLH)    &none          &none                                                                              &kp INS       &none              &kp LC(MINUS)   &none         &none         &none      
//├───────────┼──────────────┼──────────────┼───────────────┼──────────────┼──────────────┤                                                                   ├─────────────┼──────────────────┼───────────────┼─────────────┼─────────────┼─────────────┤
    &none       &none          &bkt_start     &kp PG_UP       &bkt_end       &copy_cut                                                                          &kp F8        &select            &kp UP          &extend       &none         &none      
//├───────────┼──────────────┼──────────────┼───────────────┼──────────────┼──────────────┤                                                                   ├─────────────┼──────────────────┼───────────────┼─────────────┼─────────────┼─────────────┤
    &kp LGUI    &kp F13        &kp HOME       &kp PG_DN       &kp END        &paste                                                                             &match_word   &kp LEFT           &kp DOWN        &kp RIGHT     &none         &none          
//├───────────┼──────────────┼──────────────┼───────────────┼──────────────┼──────────────┼───────────┬───────────┬─────────╮ ╭─────────────┬────────┬────────┼─────────────┼──────────────────┼───────────────┼─────────────┼─────────────┼─────────────┤
    &none       &kp LALT       &kp LC(Z)      &kp LS(LC(Z))   &kp LC(LBKT)   &kp LC(RBKT)   &kp LSHFT   &kp LSHFT   &to NAV     &to DEFAULT   &trans   &trans   &kp LG(DOT)   &select_all_none   &kp DOWN        &kp K_CMENU   &kp LCTRL     &none  
//├───────────┼──────────────┼──────────────┼───────────────┼──────────────┴──────────────┼───────────┼───────────┼─────────┤ ├─────────────┼────────┼────────┼─────────────┴──────────────────┼───────────────┼─────────────┼─────────────┼─────────────┤
    &none       &none          &kp LC(PLUS)   &none           &none                         &kp LC(S)   &kp LSHFT   &trans      &trans        &trans   &trans                 &none              &none           &none         &none         &none
//╰───────────┴──────────────┴──────────────┴───────────────┴──────────────╯              ╰───────────┴───────────┴─────────╯ ╰─────────────┴────────┴────────╯             ╰──────────────────┴───────────────┴─────────────┴─────────────┴─────────────╯
            >;
        };

        numbers_and_symbols_layer {
            bindings = <
//╭───────────┬───────────────────┬────────────────────────┬──────────────────────────┬──────────────────╮                                                                                                         ╭──────────┬────────────────────────┬───────────┬────────────────────────┬──────────────────────╮                                                                                                         ╭───────────┬───────────┬───────────┬───────────────────┬────────╮//╭────────┬────────┬────────────┬─────────────┬──────────╮                                                                                                         ╭───────────┬───────────┬───────────┬───────────────────┬────────╮//╭────────┬────────┬────────────┬─────────────┬──────────╮                                                                                                         ╭───────────┬───────────┬───────────┬───────────────────┬────────╮//╭────────┬────────┬────────────┬─────────────┬──────────╮                                                                                                         ╭───────────┬───────────┬───────────┬───────────────────┬────────╮//╭────────┬────────┬────────────┬─────────────┬──────────╮                                                                                                         ╭───────────┬───────────┬───────────┬───────────────────┬────────╮//╭────────┬────────┬────────────┬─────────────┬──────────╮                                                                                                         ╭───────────┬───────────┬───────────┬───────────────────┬────────╮//╭────────┬────────┬────────────┬─────────────┬──────────╮                                                                                                         ╭───────────┬───────────┬───────────┬───────────────────┬────────╮┬───────────┬───────────────────┬────────╮
    &trans      &trans              &trans                   &trans                     &trans                                                                                                                       &trans     &trans                   &trans      &trans                   &trans
//├───────────┼───────────────────┼────────────────────────┼──────────────────────────┼──────────────────┼────────────╮                                                                              ╭─────────────┼──────────┼────────────────────────┼───────────┼────────────────────────┼──────────────────────┤
    &trans      &trans              &trans                   &spad_i_mt FSLH FSLH       &trans             &trans                                                                                      &trans        &trans     &spad_i_mt MINUS MINUS   &trans      &trans                   &trans     
//├───────────┼───────────────────┼────────────────────────┼──────────────────────────┼──────────────────┼────────────┤                                                                              ├─────────────┼──────────┼────────────────────────┼───────────┼────────────────────────┼──────────────────────┤
    &trans      &trans              &kp TILDE2               &spad_i_mt LT LT           &spad_i_mt GT GT   &kp LC(G)                                                                                   &kp CARET     &us N7 0   &us N8 0                 &us N9 0    &trans                   &trans    
//├───────────┼───────────────────┼────────────────────────┼──────────────────────────┼──────────────────┼────────────┤                                                                              ├─────────────┼──────────┼────────────────────────┼───────────┼────────────────────────┼──────────────────────┤
    &kp LGUI    &us GB_BSLH 0       &spad_mt AMPS AMPS       &spad_mt GB_PIPE GB_PIPE   &us LBKT 0         &us RBKT 0                                                                                  &kp GB_AT     &us N4 0   &us N5 0                 &us N6 0    &us GB_HASH 0            &trans           
//├───────────┼───────────────────┼────────────────────────┼──────────────────────────┼──────────────────┼────────────┼────────┬────────┬───────────────╮ ╭─────────────┬───────────────────┬────────┬─────────────┼──────────┼────────────────────────┼───────────┼────────────────────────┼──────────────────────┤
    &trans      &kp GB_POUND_SIGN   &spad_i_mt PRCNT PRCNT   &kp DOLLAR                 &kp LBRC           &kp RBRC     &trans   &trans   &to NUMS_SYMS     &to DEFAULT   &trans              &trans   &us GRAVE 0   &us N1 0   &us N2 0                 &us N3 0    &mt_rpi LCTRL UNDER      &spad_mt EQUAL EQUAL          
//├───────────┼───────────────────┼────────────────────────┼──────────────────────────┼──────────────────┴────────────┼────────┼────────┼───────────────┤ ├─────────────┼───────────────────┼────────┼─────────────┴──────────┼────────────────────────┼───────────┼────────────────────────┼──────────────────────┤
    &trans      &trans              &spad_mt PLUS PLUS       &trans                     &trans                          &trans   &trans   &trans            &trans        &kp BSPC            &trans                 &us N0 0   &us COMMA 0              &us DOT 0   &spad_i_mt ASTRK ASTRK   &trans
//╰───────────┴───────────────────┴────────────────────────┴──────────────────────────┴──────────────────╯            ╰────────┴────────┴───────────────╯ ╰─────────────┴───────────────────┴────────╯             ╰──────────┴────────────────────────┴───────────┴────────────────────────┴──────────────────────╯
            >;
        };

        coding_numbers_and_symbols_layer {
            bindings = <
//╭────────┬────────┬──────────────────────┬────────────────┬────────────────────╮                                                                         ╭────────┬────────┬────────┬────────┬────────╮
    &trans   &trans   &trans                 &trans           &trans                                                                                         &trans   &trans   &trans   &trans   &trans      
//├────────┼────────┼──────────────────────┼────────────────┼────────────────────┼────────╮                                                       ╭────────┼────────┼────────┼────────┼────────┼────────┤
    &trans   &trans   &trans                 &trans           &trans               &trans                                                           &trans   &trans   &trans   &trans   &trans   &trans      
//├────────┼────────┼──────────────────────┼────────────────┼────────────────────┼────────┤                                                       ├────────┼────────┼────────┼────────┼────────┼────────┤
    &trans   &trans   &trans                 &spad_mt LT LT   &spad_mt GT GT       &trans                                                           &trans   &trans   &trans   &trans   &trans   &trans      
//├────────┼────────┼──────────────────────┼────────────────┼────────────────────┼────────┤                                                       ├────────┼────────┼────────┼────────┼────────┼────────┤
    &trans   &trans   &trans                 &trans           &ts_mt LBKT LBKT     &trans                                                           &trans   &trans   &trans   &trans   &trans   &trans      
//├────────┼────────┼──────────────────────┼────────────────┼────────────────────┼────────┼────────┬────────┬────────╮ ╭────────┬────────┬────────┼────────┼────────┼────────┼────────┼────────┼────────┤
    &trans   &trans   &spad_mt PRCNT PRCNT   &trans           &psnl_mt LBRC LBRC   &trans   &trans   &trans   &trans     &trans   &trans   &trans   &trans   &trans   &trans   &trans   &trans   &trans       
//├────────┼────────┼──────────────────────┼────────────────┼────────────────────┴────────┼────────┼────────┼────────┤ ├────────┼────────┼────────┼────────┴────────┼────────┼────────┼────────┼────────┤
    &trans   &trans   &trans                 &trans           &trans                        &trans   &trans   &trans     &trans   &trans   &trans            &trans   &trans   &trans   &trans   &trans 
//╰────────┴────────┴──────────────────────┴────────────────┴────────────────────╯        ╰────────┴────────┴────────╯ ╰────────┴────────┴────────╯        ╰────────┴────────┴────────┴────────┴────────╯
            >;
        };

        mousing_layer {
            bindings = <
//╭─────────────┬──────────────┬──────────────┬───────────────┬──────────────╮                                                                                               ╭───────────────────┬───────────────────┬────────────────────┬────────────────┬───────╮
    &none         &none          &none          &none           &none                                                                                                          &none               &none               &none                &none            &none      
//├─────────────┼──────────────┼──────────────┼───────────────┼──────────────┼──────────────╮                                                                  ╭─────────────┼───────────────────┼───────────────────┼────────────────────┼────────────────┼───────┤
    &none         &none          &none          &kp LC(FSLH)    &none          &none                                                                              &none        &none               &kp LC(MINUS)       &none                &none            &none      
//├─────────────┼──────────────┼──────────────┼───────────────┼──────────────┼──────────────┤                                                                  ├─────────────┼───────────────────┼───────────────────┼────────────────────┼────────────────┼───────┤
    &to DEFAULT   &none          &kp LALT       &kp LCTRL       &kp LGUI       &copy_cut                                                                          &none        &none               &none               &none                &none            &none      
//├─────────────┼──────────────┼──────────────┼───────────────┼──────────────┼──────────────┤                                                                  ├─────────────┼───────────────────┼───────────────────┼────────────────────┼────────────────┼───────┤
    &none         &none          &mkp RCLK      &mkp MCLK       &mkp LCLK      &paste                                                                             &none        &kp LC(LS(P))       &none               &none                &none            &none      
//├─────────────┼──────────────┼──────────────┼───────────────┼──────────────┼──────────────┼───────────┬───────────┬────────╮ ╭─────────────┬────────┬────────┼─────────────┼───────────────────┼───────────────────┼────────────────────┼────────────────┼───────┤
    &none         &kp LALT       &kp LC(Z)      &kp LS(LC(Z))   &kp LC(LBKT)   &kp LC(RBKT)   &kp LSHFT   &trans      &trans     &to DEFAULT   &trans   &trans    &none        &none               &none               &none                &kp LCTRL        &none     
//├─────────────┼──────────────┼──────────────┼───────────────┼──────────────┴──────────────┼───────────┼───────────┼────────┤ ├─────────────┼────────┼────────┼─────────────┴───────────────────┼───────────────────┼────────────────────┼────────────────┼───────┤
    &none         &none          &kp LC(PLUS)   &none           &none                         &kp LC(S)   &kp LSHFT   &trans     &trans        &trans   &trans                 &none               &none               &none                &none            &none 
//╰─────────────┴──────────────┴──────────────┴───────────────┴──────────────╯              ╰───────────┴───────────┴────────╯ ╰─────────────┴────────┴────────╯             ╰───────────────────┴───────────────────┴────────────────────┴────────────────┴───────╯
            >;
        };

        bigram_layer {
            bindings = <
//╭─────────────────┬────────────────┬──────────────────┬────────────────────┬──────────────────╮                                                                                          ╭───────────────┬──────────────────┬──────────────┬──────────────────┬───────────────╮
    &none             &none            &none              &none                &none                                                                                                         &none           &none              &none          &none              &none    
//├─────────────────┼────────────────┼──────────────────┼────────────────────┼──────────────────┼───────────────╮                                                       ╭──────────────────┼───────────────┼──────────────────┼──────────────┼──────────────────┼───────────────┤
    &none             &none            &none              &pad FSLH EQUAL      &none              &none                                                                   &none              &none           &pad MINUS EQUAL   &none          &none              &none    
//├─────────────────┼────────────────┼──────────────────┼────────────────────┼──────────────────┼───────────────┤                                                       ├──────────────────┼───────────────┼──────────────────┼──────────────┼──────────────────┼───────────────┤
    &kp Q             &none            &none              &pad LT EQUAL        &pad GT EQUAL      &none                                                                   &pad CARET EQUAL   &none           &cd_up             &none          &none              &none    
//├─────────────────┼────────────────┼──────────────────┼────────────────────┼──────────────────┼───────────────┤                                                       ├──────────────────┼───────────────┼──────────────────┼──────────────┼──────────────────┼───────────────┤
    &none             &none            &pad AMPS EQUAL    &pad GB_PIPE EQUAL   &ts_bi LPAR LBKT   &bi RBKT RPAR                                                           &none              &us GB_BSLH N   &bi DOT FSLH       &us MINUS GT   &tc GB_HASH        &none  
//├─────────────────┼────────────────┼──────────────────┼────────────────────┼──────────────────┼───────────────┼────────┬────────┬────────╮ ╭────────┬────────┬────────┼──────────────────┼───────────────┼──────────────────┼──────────────┼──────────────────┼───────────────┤
    &pad EXCL EQUAL   &none            &pad PRCNT EQUAL   &bi DOLLAR LBRC      &ts_bi LPAR LBRC   &bi RBRC RPAR   &trans   &trans   &none      &none    &none    &none    &none              &bi MINUS N1    &kp COMMA          &ellipsis      &none              &pad EQUAL GT 
//├─────────────────┼────────────────┼──────────────────┼────────────────────┼──────────────────┴───────────────┼────────┼────────┼────────┤ ├────────┼────────┼────────┼──────────────────┴───────────────┼──────────────────┼──────────────┼──────────────────┼───────────────┤
    &none             &se EXCL QMARK   &pad PLUS EQUAL    &bi LPAR RPAR        &none                              &trans   &trans   &trans     &trans   &trans   &trans                      &none           &bi COLON COLON    &none          &pad ASTRK EQUAL   &none 
//╰─────────────────┴────────────────┴──────────────────┴────────────────────┴──────────────────╯               ╰────────┴────────┴────────╯ ╰────────┴────────┴────────╯                  ╰───────────────┴──────────────────┴──────────────┴──────────────────┴───────────────╯
            >;
        };
        
        typescript_bigram_layer {
            bindings = <
//╭─────────────┬────────────────┬────────┬────────┬────────╮                                                                         ╭────────┬────────┬────────┬────────┬────────╮
    &trans        &trans           &trans   &trans   &trans                                                                             &trans   &trans   &trans   &trans   &trans            
//├─────────────┼────────────────┼────────┼────────┼────────┼────────╮                                                       ╭────────┼────────┼────────┼────────┼────────┼────────┤
    &trans        &trans           &trans   &trans   &trans   &trans                                                           &trans   &trans   &trans   &trans   &trans   &trans            
//├─────────────┼────────────────┼────────┼────────┼────────┼────────┤                                                       ├────────┼────────┼────────┼────────┼────────┼────────┤
    &trans        &trans           &trans   &trans   &trans   &trans                                                           &trans   &trans   &trans   &trans   &trans   &trans            
//├─────────────┼────────────────┼────────┼────────┼────────┼────────┤                                                       ├────────┼────────┼────────┼────────┼────────┼────────┤
    &trans        &trans           &trans   &trans   &trans   &trans                                                           &trans   &trans   &trans   &trans   &trans   &trans            
//├─────────────┼────────────────┼────────┼────────┼────────┼────────┼────────┬────────┬────────╮ ╭────────┬────────┬────────┼────────┼────────┼────────┼────────┼────────┼────────┤
    &js_eq EXCL   &trans           &trans   &trans   &trans   &trans   &trans   &trans   &trans     &trans   &trans   &trans   &trans   &trans   &trans   &trans   &trans   &trans
//├─────────────┼────────────────┼────────┼────────┼────────┴────────┼────────┼────────┼────────┤ ├────────┼────────┼────────┼────────┴────────┼────────┼────────┼────────┼────────┤
    &trans        &pad QMARK DOT   &trans   &trans   &trans            &trans   &trans   &trans     &trans   &trans   &trans            &trans   &trans   &trans   &trans   &trans       
//╰─────────────┴────────────────┴────────┴────────┴────────╯        ╰────────┴────────┴────────╯ ╰────────┴────────┴────────╯        ╰────────┴────────┴────────┴────────┴────────╯
            >;
        };

        double_layer {
            bindings = <
//╭───────────────┬─────────┬────────────────┬──────────────────────┬───────────────╮                                                                         ╭────────┬───────────┬─────────┬─────────────┬──────────────────╮
    &trans          &trans    &trans           &trans                 &trans                                                                                    &trans   &trans      &trans    &trans        &trans            
//├───────────────┼─────────┼────────────────┼──────────────────────┼───────────────┼────────╮                                                       ╭────────┼────────┼───────────┼─────────┼─────────────┼──────────────────┤
    &trans          &trans    &dc FSLH         &trans                 &trans          &trans                                                           &trans   &trans   &dc MINUS   &trans    &trans        &trans            
//├───────────────┼─────────┼────────────────┼──────────────────────┼───────────────┼────────┤                                                       ├────────┼────────┼───────────┼─────────┼─────────────┼──────────────────┤
    &kp Q           &trans    &trans           &email                 &phone          &trans                                                           &trans   &trans   &trans      &trans    &trans        &trans            
//├───────────────┼─────────┼────────────────┼──────────────────────┼───────────────┼────────┤                                                       ├────────┼────────┼───────────┼─────────┼─────────────┼──────────────────┤
    &trans          &trans    &pad AMPS AMPS   &pad GB_PIPE GB_PIPE   &bi LBKT RBKT   &trans                                                           &trans   &trans   &trans      &trans    &dc GB_HASH   &trans            
//├───────────────┼─────────┼────────────────┼──────────────────────┼───────────────┼────────┼────────┬────────┬────────╮ ╭────────┬────────┬────────┼────────┼────────┼───────────┼─────────┼─────────────┼──────────────────┤
    &bi EXCL EXCL   &trans    &bi PRCNT S      &trans                 &bi LBRC RBRC   &trans   &trans   &trans   &trans     &trans   &trans   &trans   &trans   &trans   &trans      &dc DOT   &dc UNDER     &pad EQUAL EQUAL
//├───────────────┼─────────┼────────────────┼──────────────────────┼───────────────┴────────┼────────┼────────┼────────┤ ├────────┼────────┼────────┼────────┴────────┼───────────┼─────────┼─────────────┼──────────────────┤
    &trans          &trans    &dc PLUS         &bi LPAR RPAR          &trans                   &trans   &trans   &trans     &trans   &trans   &trans            &trans   &dc COLON   &trans    &dc ASTRK     &trans       
//╰───────────────┴─────────┴────────────────┴──────────────────────┴───────────────╯        ╰────────┴────────┴────────╯ ╰────────┴────────┴────────╯        ╰────────┴───────────┴─────────┴─────────────┴──────────────────╯
            >;
        };

        typescript_double_layer {
            bindings = <
//╭────────┬────────┬────────┬────────┬────────╮                                                                         ╭────────┬────────┬────────┬────────┬──────────────╮
    &trans   &trans   &trans   &trans   &trans                                                                             &trans   &trans   &trans   &trans   &trans            
//├────────┼────────┼────────┼────────┼────────┼────────╮                                                       ╭────────┼────────┼────────┼────────┼────────┼──────────────┤
    &trans   &trans   &trans   &trans   &trans   &trans                                                           &trans   &trans   &trans   &trans   &trans   &trans            
//├────────┼────────┼────────┼────────┼────────┼────────┤                                                       ├────────┼────────┼────────┼────────┼────────┼──────────────┤
    &trans   &trans   &trans   &trans   &trans   &trans                                                           &trans   &trans   &trans   &trans   &trans   &trans            
//├────────┼────────┼────────┼────────┼────────┼────────┤                                                       ├────────┼────────┼────────┼────────┼────────┼──────────────┤
    &trans   &trans   &trans   &trans   &trans   &trans                                                           &trans   &trans   &trans   &trans   &trans   &trans            
//├────────┼────────┼────────┼────────┼────────┼────────┼────────┬────────┬────────╮ ╭────────┬────────┬────────┼────────┼────────┼────────┼────────┼────────┼──────────────┤
    &trans   &trans   &trans   &trans   &trans   &trans   &trans   &trans   &trans     &trans   &trans   &trans   &trans   &trans   &trans   &trans   &trans   &js_eq EQUAL
//├────────┼────────┼────────┼────────┼────────┴────────┼────────┼────────┼────────┤ ├────────┼────────┼────────┼────────┴────────┼────────┼────────┼────────┼──────────────┤
    &trans   &trans   &trans   &trans   &trans            &trans   &trans   &trans     &trans   &trans   &trans            &trans   &trans   &trans   &trans   &trans       
//╰────────┴────────┴────────┴────────┴────────╯        ╰────────┴────────┴────────╯ ╰────────┴────────┴────────╯        ╰────────┴────────┴────────┴────────┴──────────────╯
            >;
        };

       snippets_layer {
            bindings = <
//╭────────┬────────┬───────────┬───────────┬───────────╮                                                                         ╭───────────┬───────────┬───────────┬────────┬───────╮
    &none    &none    &none       &none       &none                                                                                 &none       &none       &none       &none    &none             
//├────────┼────────┼───────────┼───────────┼───────────┼────────╮                                                       ╭────────┼───────────┼───────────┼───────────┼────────┼───────┤
    &none    &none    &none       &none       &none       &none                                                            &none    &none       &none       &none       &none    &none             
//├────────┼────────┼───────────┼───────────┼───────────┼────────┤                                                       ├────────┼───────────┼───────────┼───────────┼────────┼───────┤
    &none    &none    &snpt W H   &none       &snpt F O   &none                                                            &none    &snpt L O   &snpt F U   &none       &none    &none             
//├────────┼────────┼───────────┼───────────┼───────────┼────────┤                                                       ├────────┼───────────┼───────────┼───────────┼────────┼───────┤
    &none    &none    &none       &snpt S W   &snpt F R   &none                                                            &none    &snpt I F   &snpt E I   &snpt E L   &none    &none             
//├────────┼────────┼───────────┼───────────┼───────────┼────────┼────────┬────────┬────────╮ ╭────────┬────────┬────────┼────────┼───────────┼───────────┼───────────┼────────┼───────┤
    &none    &none    &none       &none       &snpt F E   &none    &none    &none    &none      &none    &none    &none    &none    &none       &none       &none       &none    &none
//├────────┼────────┼───────────┼───────────┼───────────┴────────┼────────┼────────┼────────┤ ├────────┼────────┼────────┼────────┴───────────┼───────────┼───────────┼────────┼───────┤
    &none    &none    &none       &none       &none                &none    &none    &none      &none    &none    &none             &none       &none       &none       &none    &none        
//╰────────┴────────┴───────────┴───────────┴───────────╯        ╰────────┴────────┴────────╯ ╰────────┴────────┴────────╯        ╰───────────┴───────────┴───────────┴────────┴───────╯
            >;
        };

        keywords_layer {
            bindings = <
//╭──────────┬────────────┬─────────────┬─────────────┬─────────────╮                                                                                                         ╭──────────────┬───────────────┬───────────┬─────────────┬─────────────╮
    &none      &none        &none         &trans        &none                                                                                                                   &none          &none           &none       &none         &none      
//├──────────┼────────────┼─────────────┼─────────────┼─────────────┼──────────────╮                                                                           ╭──────────────┼──────────────┼───────────────┼───────────┼─────────────┼─────────────┤
    &none      &none        &trans        &none         &trans        &none                                                                                      &none          &none          &continue 0     &none       &none         &none      
//├──────────┼────────────┼─────────────┼─────────────┼─────────────┼──────────────┤                                                                           ├──────────────┼──────────────┼───────────────┼───────────┼─────────────┼─────────────┤
    &none      &trans       &none         &number       &ppp_td       &boolean 0 0                                                                               &const         &let 0 0       &function 0 0   &none       &none         &none      
//├──────────┼────────────┼─────────────┼─────────────┼─────────────┼──────────────┤                                                                           ├──────────────┼──────────────┼───────────────┼───────────┼─────────────┼─────────────┤
    &none      &array 0 0   &return       &string 0 0   &this 0       &none                                                                                      &mapping 0 0   &include 0 0   &vector 0 0     &int 0 0    &object 0 0   &none      
//├──────────┼────────────┼─────────────┼─────────────┼─────────────┼──────────────┼───────────┬───────────┬─────────────╮ ╭───────────┬───────────┬───────────┼──────────────┼──────────────┼───────────────┼───────────┼─────────────┼─────────────┤
    &none      &length 0    &mixed 0 0    &class 0 0    &define 0 0   &void 0 0      &trans      &trans      &trans          &trans      &trans      &trans      &break 0       &true          &none           &none       &none          &none      
//├──────────┼────────────┼─────────────┼─────────────┼─────────────┴──────────────┼───────────┼───────────┼─────────────┤ ├───────────┼───────────┼───────────┼──────────────┴──────────────┼───────────────┼───────────┼─────────────┼─────────────┤
    &none      &none        &none         &none         &none                        &trans      &trans      &trans          &trans      &trans      &trans                     &false         &none            &none       &none         &none 
//╰──────────┴────────────┴─────────────┴─────────────┴─────────────╯              ╰───────────┴───────────┴─────────────╯ ╰───────────┴───────────┴───────────╯              ╰──────────────┴───────────────┴───────────┴─────────────┴─────────────╯
            >;
        };

        typescript_keywords_layer {
            bindings = <
//╭────────┬─────────────┬────────┬────────┬─────────────╮                                                                                     ╭─────────────┬───────────────────┬──────────┬──────────┬──────────────╮
    &trans   &trans        &trans   &trans   &trans                                                                                              &trans        &trans              &trans     &trans     &trans      
//├────────┼─────────────┼────────┼────────┼─────────────┼───────────────╮                                                       ╭─────────────┼─────────────┼───────────────────┼──────────┼──────────┼──────────────┤
    &trans   &trans        &trans   &trans   &trans        &trans                                                                  &trans        &trans        &continue SEMI      &trans     &trans     &trans      
//├────────┼─────────────┼────────┼────────┼─────────────┼───────────────┤                                                       ├─────────────┼─────────────┼───────────────────┼──────────┼──────────┼──────────────┤
    &trans   &trans        &trans   &trans   &ppp_spc_td   &bool SPACE 0                                                           &trans        &let_var_td   &function 0 SPACE   &trans     &trans     &trans      
//├────────┼─────────────┼────────┼────────┼─────────────┼───────────────┤                                                       ├─────────────┼─────────────┼───────────────────┼──────────┼──────────┼──────────────┤
    &trans   &trans        &trans   &trans   &this DOT     &trans                                                                  &trans        &trans        &trans              &big_int   &trans     &trans      
//├────────┼─────────────┼────────┼────────┼─────────────┼───────────────┼────────┬────────┬────────╮ ╭────────┬────────┬────────┼─────────────┼─────────────┼───────────────────┼──────────┼──────────┼──────────────┤
    &trans   &length DOT   &any     &trans   &trans        &trans          &trans   &trans   &trans     &trans   &trans   &trans   &break SEMI   &trans        &trans              &trans     &trans     &trans       
//├────────┼─────────────┼────────┼────────┼─────────────┴───────────────┼────────┼────────┼────────┤ ├────────┼────────┼────────┼─────────────┴─────────────┼───────────────────┼──────────┼──────────┼──────────────┤
    &trans   &trans        &trans   &trans   &trans                        &trans   &trans   &trans     &trans   &trans   &trans                 &trans        &trans              &trans     &trans     &trans 
//╰────────┴─────────────┴────────┴────────┴─────────────╯               ╰────────┴────────┴────────╯ ╰────────┴────────┴────────╯             ╰─────────────┴───────────────────┴──────────┴──────────┴──────────────╯
            >;
        };

        c_keywords_layer {
            bindings = <
//╭────────┬───────────┬─────────────────┬─────────────────┬───────────────────────╮                                                                                          ╭────────────────────────┬───────────────────┬──────────────┬─────────────────┬─────────────────╮
    &trans   &trans      &trans            &trans            &trans                                                                                                             &trans                   &trans              &trans         &trans            &trans      
//├────────┼───────────┼─────────────────┼─────────────────┼───────────────────────┼───────────────╮                                                       ╭──────────────────┼────────────────────────┼───────────────────┼──────────────┼─────────────────┼─────────────────┤
    &trans   &trans      &trans            &trans            &trans                  &trans                                                                  &trans             &trans                   &continue SEMI      &trans         &trans            &trans      
//├────────┼───────────┼─────────────────┼─────────────────┼───────────────────────┼───────────────┤                                                       ├──────────────────┼────────────────────────┼───────────────────┼──────────────┼─────────────────┼─────────────────┤
    &trans   &trans      &trans            &float 0 SPACE    &ppp_spc_td             &bool 0 SPACE                                                           &trans             &varargs                 &function 0 SPACE   &trans         &trans            &trans      
//├────────┼───────────┼─────────────────┼─────────────────┼───────────────────────┼───────────────┤                                                       ├──────────────────┼────────────────────────┼───────────────────┼──────────────┼─────────────────┼─────────────────┤
    &trans   &kp ASTRK   &return           &string 0 SPACE   &trans                  &trans                                                                  &mapping 0 SPACE   &include GB_HASH SPACE   &vec_td             &int 0 SPACE   &object 0 SPACE   &trans   
//├────────┼───────────┼─────────────────┼─────────────────┼───────────────────────┼───────────────┼────────┬────────┬────────╮ ╭────────┬────────┬────────┼──────────────────┼────────────────────────┼───────────────────┼──────────────┼─────────────────┼─────────────────┤
    &trans   &sizeof     &mixed 0 SPACE    &class 0 SPACE    &define GB_HASH SPACE   &void 0 SPACE   &trans   &trans   &trans     &trans   &trans   &trans   &break SEMI        &trans                   &trans              &trans         &trans            &trans       
//├────────┼───────────┼─────────────────┼─────────────────┼───────────────────────┴───────────────┼────────┼────────┼────────┤ ├────────┼────────┼────────┼──────────────────┴────────────────────────┼───────────────────┼──────────────┼─────────────────┼─────────────────┤
    &trans   &trans      &trans            &trans            &trans                                  &trans   &trans   &trans     &trans   &trans   &trans                      &trans                   &trans              &trans         &trans            &trans 
//╰────────┴───────────┴─────────────────┴─────────────────┴───────────────────────╯               ╰────────┴────────┴────────╯ ╰────────┴────────┴────────╯                  ╰────────────────────────┴───────────────────┴──────────────┴─────────────────┴─────────────────╯
            >;
        };

        python_keywords_layer {
            bindings = <
//╭────────┬─────────┬────────┬─────────┬────────╮                                                                            ╭────────┬────────────┬────────┬──────────┬──────────────╮
    &trans   &trans    &trans   &trans    &trans                                                                                &trans   &trans       &trans   &trans     &trans      
//├────────┼─────────┼────────┼─────────┼────────┼───────────╮                                                       ╭────────┼────────┼────────────┼────────┼──────────┼──────────────┤
    &trans   &trans    &trans   &trans    &trans   &trans                                                              &trans   &trans   &trans       &trans   &trans     &trans      
//├────────┼─────────┼────────┼─────────┼────────┼───────────┤                                                       ├────────┼────────┼────────────┼────────┼──────────┼──────────────┤
    &trans   &trans    &trans   &trans    &trans   &bool 0 0                                                           &trans   &var     &func        &trans   &trans     &trans      
//├────────┼─────────┼────────┼─────────┼────────┼───────────┤                                                       ├────────┼────────┼────────────┼────────┼──────────┼──────────────┤
    &trans   &trans    &trans   &trans    &trans   &trans                                                              &trans   &trans   &vector_td   &trans   &trans     &trans      
//├────────┼─────────┼────────┼─────────┼────────┼───────────┼────────┬────────┬────────╮ ╭────────┬────────┬────────┼────────┼────────┼────────────┼────────┼──────────┼──────────────┤
    &trans   &len      &trans   &trans    &trans   &trans      &trans   &trans   &trans     &trans   &trans   &trans   &trans   &trans   &trans       &trans   &trans     &trans       
//├────────┼─────────┼────────┼─────────┼────────┴───────────┼────────┼────────┼────────┤ ├────────┼────────┼────────┼────────┴────────┼────────────┼────────┼──────────┼──────────────┤
    &trans   &trans    &trans   &trans    &trans               &trans   &trans   &trans     &trans   &trans   &trans            &trans   &trans       &trans   &trans     &trans 
//╰────────┴─────────┴────────┴─────────┴────────╯           ╰────────┴────────┴────────╯ ╰────────┴────────┴────────╯        ╰────────┴────────────┴────────┴──────────┴──────────────╯
            >;
        };

        mouse_emulation_layer {
            bindings = <
//╭──────────┬──────────┬───────────┬───────────┬───────────╮                                                                                                     ╭───────────────────┬───────────────────┬────────────────────┬────────────────┬─────────────╮
    &none      &none      &none       &none       &none                                                                                                             &none               &none               &none                &none            &none      
//├──────────┼──────────┼───────────┼───────────┼───────────┼───────────╮                                                                           ╭─────────────┼───────────────────┼───────────────────┼────────────────────┼────────────────┼─────────────┤
    &none      &none      &none       &none       &none       &none                                                                                   &none         &none               &none               &none                &none            &none      
//├──────────┼──────────┼───────────┼───────────┼───────────┼───────────┤                                                                           ├─────────────┼───────────────────┼───────────────────┼────────────────────┼────────────────┼─────────────┤
    &none      &none      &kp LALT    &kp LCTRL   &kp LGUI    &copy_cut                                                                                &none         &none               &mmv MOVE_UP        &none                &none            &none      
//├──────────┼──────────┼───────────┼───────────┼───────────┼───────────┤                                                                           ├─────────────┼───────────────────┼───────────────────┼────────────────────┼────────────────┼─────────────┤
    &none      &mo SLOW   &mkp RCLK   &mkp MCLK   &mkp LCLK   &paste                                                                                  &none         &mmv MOVE_LEFT      &mmv MOVE_DOWN      &mmv MOVE_RIGHT      &none            &none      
//├──────────┼──────────┼───────────┼───────────┼───────────┼───────────┼─────────────┬───────────┬───────────╮ ╭─────────────┬──────────┬──────────┼─────────────┼───────────────────┼───────────────────┼────────────────────┼────────────────┼─────────────┤
    &none      &kp LALT   &none       &none       &none       &none       &kp LSHFT     &trans      &to MOUSE     &to DEFAULT   &trans     &kp LGUI   &none         &none               &mmv MOVE_DOWN      &none                &kp LCTRL         &none      
//├──────────┼──────────┼───────────┼───────────┼───────────┴───────────┼─────────────┼───────────┼───────────┤ ├─────────────┼──────────┼──────────┼─────────────┴───────────────────┼───────────────────┼────────────────────┼────────────────┼─────────────┤
    &none      &none      &none       &none       &none                   &kp LC(S)     &kp LSHFT   &none         &kp LGUI      &kp BSPC   &trans                   &none               &none               &none                &none            &none 
//╰──────────┴──────────┴───────────┴───────────┴───────────╯           ╰─────────────┴───────────┴───────────╯ ╰─────────────┴──────────┴──────────╯             ╰───────────────────┴───────────────────┴────────────────────┴────────────────┴─────────────╯
            >;
        };

        slow_mouse_emulation_layer {
            bindings = <
//╭────────┬────────┬────────┬────────┬────────╮                                                                         ╭────────┬────────┬────────┬────────┬────────╮
    &trans   &trans   &trans   &trans   &trans                                                                             &trans   &trans   &trans   &trans   &trans      
//├────────┼────────┼────────┼────────┼────────┼────────╮                                                       ╭────────┼────────┼────────┼────────┼────────┼────────┤
    &trans   &trans   &trans   &trans   &trans   &trans                                                           &trans   &trans   &trans   &trans   &trans   &trans      
//├────────┼────────┼────────┼────────┼────────┼────────┤                                                       ├────────┼────────┼────────┼────────┼────────┼────────┤
    &trans   &trans   &trans   &trans   &trans   &trans                                                           &trans   &trans   &trans   &trans   &trans   &trans      
//├────────┼────────┼────────┼────────┼────────┼────────┤                                                       ├────────┼────────┼────────┼────────┼────────┼────────┤
    &trans   &trans   &trans   &trans   &trans   &trans                                                           &trans   &trans   &trans   &trans   &trans   &trans      
//├────────┼────────┼────────┼────────┼────────┼────────┼────────┬────────┬────────╮ ╭────────┬────────┬────────┼────────┼────────┼────────┼────────┼────────┼────────┤
    &trans   &trans   &trans   &trans   &trans   &trans   &trans   &trans   &trans     &trans   &trans   &trans   &trans   &trans   &trans   &trans   &trans   &trans       
//├────────┼────────┼────────┼────────┼────────┴────────┼────────┼────────┼────────┤ ├────────┼────────┼────────┼────────┴────────┼────────┼────────┼────────┼────────┤
    &trans   &trans   &trans   &trans   &trans            &trans   &trans   &trans     &trans   &trans   &trans            &trans   &trans   &trans   &trans   &trans 
//╰────────┴────────┴────────┴────────┴────────╯        ╰────────┴────────┴────────╯ ╰────────┴────────┴────────╯        ╰────────┴────────┴────────┴────────┴────────╯
            >;
        };
 
        media_layer {
            bindings = <
//╭───────┬───────┬────────────┬──────────────┬────────────╮                                                                                                        ╭───────────────────┬───────────────────┬────────────────────┬────────────────┬─────────────╮
    &none   &none   &none        &none          &none                                                                                                                 &none               &none               &none                &none            &none      
//├───────┼───────┼────────────┼──────────────┼────────────┼───────────╮                                                                              ╭─────────────┼───────────────────┼───────────────────┼────────────────────┼────────────────┼─────────────┤
    &none   &none   &none        &kp C_MUTE     &none        &none                                                                                       &none        &none               &none               &none                &none            &none      
//├───────┼───────┼────────────┼──────────────┼────────────┼───────────┤                                                                              ├─────────────┼───────────────────┼───────────────────┼────────────────────┼────────────────┼─────────────┤
    &none   &none   &none        &kp C_VOL_UP   &none        &none                                                                                       &none        &none               &kp C_BRI_UP        &none                &none            &none      
//├───────┼───────┼────────────┼──────────────┼────────────┼───────────┤                                                                              ├─────────────┼───────────────────┼───────────────────┼────────────────────┼────────────────┼─────────────┤
    &none   &none   &kp C_PREV   &kp C_VOL_DN   &kp C_NEXT   &none                                                                                       &none        &none               &kp C_BRI_DN        &none                &none            &none      
//├───────┼───────┼────────────┼──────────────┼────────────┼───────────┼───────────┬─────────────┬───────────╮ ╭──────────────┬───────────┬───────────┼─────────────┼───────────────────┼───────────────────┼────────────────────┼────────────────┼─────────────┤
    &none   &none   &kp C_RW     &play_pause    &kp C_FF     &none       &kp LSHFT   &kp LSHFT     &to MEDIA     &to DEFAULT    &none       &none        &none        &none               &none               &none                &none            &none      
//├───────┼───────┼────────────┼──────────────┼────────────┴───────────┼───────────┼─────────────┼───────────┤ ├──────────────┼───────────┼───────────┼─────────────┴───────────────────┼───────────────────┼────────────────────┼────────────────┼─────────────┤
    &none   &none   &none        &none          &none                    &none       &kp LSHFT     &kp PSCRN     &none          &none       &none                     &none               &none               &none                &none            &none 
//╰───────┴───────┴────────────┴──────────────┴────────────╯           ╰───────────┴─────────────┴───────────╯ ╰──────────────┴───────────┴───────────╯             ╰───────────────────┴───────────────────┴────────────────────┴────────────────┴─────────────╯
            >;
        };

        emoji_layer {
            bindings = <
//╭───────────┬──────────┬─────────┬─────────────┬───────────╮                                                                                               ╭───────────────────┬───────────────────┬────────────────────┬────────────────┬─────────────╮
    &none       &none      &none     &none         &none                                                                                                       &none               &none               &none                &none            &none      
//├───────────┼──────────┼─────────┼─────────────┼───────────┼──────────╮                                                                      ╭─────────────┼───────────────────┼───────────────────┼────────────────────┼────────────────┼─────────────┤
    &none       &none      &none     &e_diagonal   &none       &none                                                                               &none       &none               &none               &none                &none            &none      
//├───────────┼──────────┼─────────┼─────────────┼───────────┼──────────┤                                                                      ├─────────────┼───────────────────┼───────────────────┼────────────────────┼────────────────┼─────────────┤
    &none       &none      &none     &none         &e_poke     &none                                                                               &none       &none               &e_thumb_up         &none                &none            &none      
//├───────────┼──────────┼─────────┼─────────────┼───────────┼──────────┤                                                                      ├─────────────┼───────────────────┼───────────────────┼────────────────────┼────────────────┼─────────────┤
    &none       &none      &none     &none         &none       &none                                                                               &none       &none               &e_thumb_down       &none                &e_surprised     &e_laughing      
//├───────────┼──────────┼─────────┼─────────────┼───────────┼──────────┼───────────┬───────────┬───────────╮ ╭─────────────┬──────────┬───────┼─────────────┼───────────────────┼───────────────────┼────────────────────┼────────────────┼─────────────┤
    &none       &none      &e_kiss   &none         &none       &none      &kp LSHFT   &kp LSHFT   &to EMOJI     &to DEFAULT   &none      &none     &none       &none               &none               &none                &none            &e_crying      
//├───────────┼──────────┼─────────┼─────────────┼───────────┴──────────┼───────────┼───────────┼───────────┤ ├─────────────┼──────────┼───────┼─────────────┴───────────────────┼───────────────────┼────────────────────┼────────────────┼─────────────┤
    &none       &none      &none     &e_sad        &e_smiley              &none       &kp LSHFT   &none         &none         &kp BSPC   &none                 &none               &none               &none                &none            &none 
//╰───────────┴──────────┴─────────┴─────────────┴───────────╯          ╰───────────┴───────────┴───────────╯ ╰─────────────┴──────────┴───────╯             ╰───────────────────┴───────────────────┴────────────────────┴────────────────┴─────────────╯
            >;
        };

        fkeys_layer {
            bindings = <
//╭──────────┬───────────┬───────────┬───────────┬───────────╮                                                                                      ╭─────────┬─────────┬─────────┬───────────┬─────────────╮
    &none       &none       &none       &none       &none                                                                                             &trans    &trans    &trans    &none       &none      
//├──────────┼───────────┼───────────┼───────────┼───────────┼───────────╮                                                                  ╭───────┼─────────┼─────────┼─────────┼───────────┼─────────────┤
    &none       &none       &none       &none       &none       &none                                                                         &none   &kp F10   &kp F11   &kp F12   &none       &none      
//├──────────┼───────────┼───────────┼───────────┼───────────┼───────────┤                                                                  ├───────┼─────────┼─────────┼─────────┼───────────┼─────────────┤
    &none       &none       &none       &none       &none       &none                                                                         &none   &kp F7    &kp F8    &kp F9    &none       &none      
//├──────────┼───────────┼───────────┼───────────┼───────────┼───────────┤                                                                  ├───────┼─────────┼─────────┼─────────┼───────────┼─────────────┤
    &none       &none       &none       &none       &none       &none                                                                         &none   &kp F4    &kp F5    &kp F6    &none       &none      
//├──────────┼───────────┼───────────┼───────────┼───────────┼───────────┼─────────────┬───────────┬───────────╮ ╭──────────┬───────┬───────┼───────┼─────────┼─────────┼─────────┼───────────┼─────────────┤
    &none       &kp LALT    &none       &none       &none       &none      &kp LSHFT     &kp LSHFT   &none         &none      &none   &none   &none   &kp F1    &kp F2    &kp F3    &kp LCTRL   &none      
//├──────────┼───────────┼───────────┼───────────┼───────────┴───────────┼─────────────┼───────────┼───────────┤ ├──────────┼───────┼───────┼───────┴─────────┼─────────┼─────────┼───────────┼─────────────┤
    &none       &none       &none       &none       &none                  &key_repeat   &kp LSHFT   &none         &kp LGUI   &none   &none           &none     &none     &none     &none       &none 
//╰──────────┴───────────┴───────────┴───────────┴───────────╯           ╰─────────────┴───────────┴───────────╯ ╰──────────┴───────┴───────╯       ╰─────────┴─────────┴─────────┴───────────┴─────────────╯
            >;
        };

        window_layer {
            bindings = <
//╭───────────┬──────────┬──────────────┬────────────┬─────────────╮                                                                                ╭──────────────┬───────────────┬───────────────┬───────────┬───────────────────╮
    &none       &none      &none          &none        &none                                                                                          &none          &none           &none           &none       &none          
//├───────────┼──────────┼──────────────┼────────────┼─────────────┼───────────╮                                                           ╭────────┼──────────────┼───────────────┼───────────────┼───────────┼───────────────────┤
    &none       &none      &none          &cms SLASH   &none         &none                                                                   &none    &none          &kp LG(MINUS)   &none           &none       &none            
//├───────────┼──────────┼──────────────┼────────────┼─────────────┼───────────┤                                                           ├────────┼──────────────┼───────────────┼───────────────┼───────────┼───────────────────┤
    &none       &none      &ems W         &kp LG(F)    &none         &cms B                                                                  &none    &none          &kp LG(UP)      &none           &none       &none            
//├───────────┼──────────┼──────────────┼────────────┼─────────────┼───────────┤                                                           ├────────┼──────────────┼───────────────┼───────────────┼───────────┼───────────────────┤
    &kp LG(Q)   &ems A     &ems R         &cms S       &cms T        &cms G                                                                  &none    &kp LG(LEFT)   &kp LG(DOWN)    &kp LG(RIGHT)   &none       &none            
//├───────────┼──────────┼──────────────┼────────────┼─────────────┼───────────┼───────┬───────────┬─────────────╮ ╭───────┬───────┬───────┼────────┼──────────────┼───────────────┼───────────────┼───────────┼───────────────────┤
    &none       &kp LALT   &ems X         &cms C       &ems D        &kp LG(V)   &none   &none       &none           &none   &none   &none   &none    &none          &cms COMMA      &cms DOT        &kp LCTRL   &none            
//├───────────┼──────────┼──────────────┼────────────┼─────────────┴───────────┼───────┼───────────┼─────────────┤ ├───────┼───────┼───────┼────────┴──────────────┼───────────────┼───────────────┼───────────┼───────────────────┤
    &none       &none      &kp LG(PLUS)   &none        &none                     &none   &kp LSHFT   &cms RETURN     &none   &none   &none            &none          &none           &none           &none       &none
//╰───────────┴──────────┴──────────────┴────────────┴─────────────╯           ╰───────┴───────────┴─────────────╯ ╰───────┴───────┴───────╯        ╰──────────────┴───────────────┴───────────────┴───────────┴───────────────────╯
            >;
        };

        wasd_layer {
            bindings = <
//╭───────┬───────────┬─────────────┬───────────┬───────────╮                                                                                                       ╭───────────┬───────────┬───────────────┬───────────┬─────────────────────╮
    &none   &none       &none         &none       &none                                                                                                               &none       &none       &none            &none       &none         
//├───────┼───────────┼─────────────┼───────────┼───────────┼───────────╮                                                                               ╭───────────┼───────────┼───────────┼───────────────┼───────────┼─────────────────────┤
    &none   &kp GB_N1   &kp GB_N2     &kp GB_N3   &kp GB_N4   &kp GB_N5                                                                                   &kp GB_N6   &kp GB_N7   &kp GB_N8   &kp GB_N9       &kp GB_N0   &none                
//├───────┼───────────┼─────────────┼───────────┼───────────┼───────────┤                                                                               ├───────────┼───────────┼───────────┼───────────────┼───────────┼─────────────────────┤
    &none   &none       &kp Q         &kp W       &kp E       &kp R                                                                                       &kp T       &kp Y       &kp U       &kp I           &kp O       &kp P                
//├───────┼───────────┼─────────────┼───────────┼───────────┼───────────┤                                                                               ├───────────┼───────────┼───────────┼───────────────┼───────────┼─────────────────────┤
    &none   &kp LSHFT   &kp A         &kp S       &kp D       &kp F                                                                                       &kp G       &kp H       &kp J       &kp K           &kp L       &kp SEMI             
//├───────┼───────────┼─────────────┼───────────┼───────────┼───────────┼───────────┬───────────┬─────────╮ ╭─────────────┬─────────┬───────────────────┼───────────┼───────────┼───────────┼───────────────┼───────────┼─────────────────────┤
    &none   &kp LCTRL   &kp Z         &kp X       &kp C       &kp V       &kp RET     &kp DEL     &none       &to DEFAULT   &none     &kp RGUI            &kp B       &kp N       &kp M       &kp COMMA       &kp DOT     &mt_rpi RCTRL MINUS  
//├───────┼───────────┼─────────────┼───────────┼───────────┼───────────┼───────────┼───────────┼─────────┤ ├─────────────┼─────────┼───────────────────┼───────────┴───────────┼───────────┼───────────────┼───────────┼─────────────────────┤
    &none   &kp LALT    &kp GB_FSLH   &kp LBKT    &kp RBKT                &kp SPACE   &kp LSHFT   &kp ESC     &kp TAB       &kp RET   &lt_rpi NAV SPACE               &none       &none       &none           &none       &none
//╰───────┴───────────┴─────────────┴───────────┴───────────╯           ╰───────────┴───────────┴─────────╯ ╰─────────────┴─────────┴───────────────────╯           ╰───────────┴───────────┴───────────────┴───────────┴─────────────────────╯
            >;
        };



//#######################################################################################################################################################################################################################################################################################################################################
        magic_layer {
            bindings = <
//╭─────────────┬─────────────────┬─────────────────┬─────────────────┬─────────────────╮                                                                                  ╭───────┬───────┬───────┬───────┬──────────────────╮
    &none         &bt BT_CLR        &none             &none             &none                                                                                                &none   &none   &none   &none   &bt BT_CLR_ALL  
//├─────────────┼─────────────────┼─────────────────┼─────────────────┼─────────────────┼─────────────────╮                                                        ╭───────┼───────┼───────┼───────┼───────┼──────────────────┤
    &none         &none             &none             &none             &none             &none                                                                      &none   &none   &none   &none   &none   &none           
//├─────────────┼─────────────────┼─────────────────┼─────────────────┼─────────────────┼─────────────────┤                                                        ├───────┼───────┼───────┼───────┼───────┼──────────────────┤
    &none         &rgb_ug RGB_SPI   &rgb_ug RGB_SAI   &rgb_ug RGB_HUI   &rgb_ug RGB_BRI   &rgb_ug RGB_TOG                                                            &none   &none   &none   &none   &none   &none           
//├─────────────┼─────────────────┼─────────────────┼─────────────────┼─────────────────┼─────────────────┤                                                        ├───────┼───────┼───────┼───────┼───────┼──────────────────┤
    &bootloader   &rgb_ug RGB_SPD   &rgb_ug RGB_SAD   &rgb_ug RGB_HUD   &rgb_ug RGB_BRD   &rgb_ug RGB_EFF                                                            &none   &none   &none   &none   &none   &bootloader     
//├─────────────┼─────────────────┼─────────────────┼─────────────────┼─────────────────┼─────────────────┼───────┬───────┬──────────────╮ ╭───────┬───────┬───────┼───────┼───────┼───────┼───────┼───────┼──────────────────┤
    &sys_reset    &none             &none             &none             &none             &none             &bt_2   &bt_3   &out OUT_USB     &none   &none   &none   &none   &none   &none   &none   &none   &sys_reset       
//├─────────────┼─────────────────┼─────────────────┼─────────────────┼─────────────────┴─────────────────┼───────┼───────┼──────────────┤ ├───────┼───────┼───────┼───────┴───────┼───────┼───────┼───────┼──────────────────┤
    &none         &none             &none             &none             &none                               &bt_0   &bt_1   &to DEFAULT      &none   &none   &none           &none   &none   &none   &none   &to FACTORY_TEST 
//╰─────────────┴─────────────────┴─────────────────┴─────────────────┴─────────────────╯                 ╰───────┴───────┴──────────────╯ ╰───────┴───────┴───────╯       ╰───────┴───────┴───────┴───────┴──────────────────╯
            >;
        };

        factory_test_layer {
            bindings = <
//╭────────┬────────┬────────┬────────┬────────╮                                                                         ╭────────┬────────┬────────┬────────┬────────╮
    &kp N0   &kp N6   &kp N2   &kp N8   &kp N4                                                                             &kp N4   &kp N8   &kp N2   &kp N6   &kp N0 
//├────────┼────────┼────────┼────────┼────────┼────────╮                                                       ╭────────┼────────┼────────┼────────┼────────┼────────┤
    &kp N1   &kp N7   &kp N3   &kp N9   &kp N5   &kp N0                                                           &kp N0   &kp N5   &kp N9   &kp N3   &kp N7   &kp N1 
//├────────┼────────┼────────┼────────┼────────┼────────┤                                                       ├────────┼────────┼────────┼────────┼────────┼────────┤
    &kp N2   &kp N8   &kp N4   &kp N0   &kp N6   &kp N1                                                           &kp N1   &kp N6   &kp N0   &kp N4   &kp N8   &kp N2 
//├────────┼────────┼────────┼────────┼────────┼────────┤                                                       ├────────┼────────┼────────┼────────┼────────┼────────┤
    &kp N3   &kp N9   &kp N5   &kp N1   &kp N7   &kp N2                                                           &kp N2   &kp N7   &kp N1   &kp N5   &kp N9   &kp N3 
//├────────┼────────┼────────┼────────┼────────┼────────┼────────┬────────┬────────╮ ╭────────┬────────┬────────┼────────┼────────┼────────┼────────┼────────┼────────┤
    &kp N4   &kp N0   &kp N6   &kp N2   &kp N8   &kp N3   &kp N4   &kp N5   &kp N6     &kp N6   &kp N5   &kp N4   &kp N3   &kp N8   &kp N2   &kp N6   &kp N0   &kp N4 
//├────────┼────────┼────────┼────────┼────────┴────────┼────────┼────────┼────────┤ ├────────┼────────┼────────┼────────┴────────┼────────┼────────┼────────┼────────┤
    &kp N5   &kp N1   &kp N7   &kp N3   &kp N9            &kp N7   &kp N8   &kp N9     &kp N9   &kp N8   &kp N7            &kp N9   &kp N3   &kp N7   &kp N1   &kp N5
//╰────────┴────────┴────────┴────────┴────────╯        ╰────────┴────────┴────────╯ ╰────────┴────────┴────────╯        ╰────────┴────────┴────────┴────────┴────────╯
            >;
        };

    };

};